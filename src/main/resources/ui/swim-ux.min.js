// swim-ux-3.11.0-dev.20200517; copyright 2015-2022 Swim.inc
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@swim/color"),require("@swim/font"),require("@swim/shadow"),require("@swim/transition"),require("@swim/view"),require("@swim/length"),require("@swim/gesture"),require("@swim/util"),require("@swim/angle"),require("@swim/transform")):"function"==typeof define&&define.amd?define(["exports","@swim/color","@swim/font","@swim/shadow","@swim/transition","@swim/view","@swim/length","@swim/gesture","@swim/util","@swim/angle","@swim/transform"],e):e((t=t||self).swim=t.swim||{},t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim)}(this,(function(t,e,o,i,n,r,s,l,a,p,h){"use strict";var d=function(){this.font=o.Font.parse("14px sans-serif"),this.color=e.Color.parse("#ffffff"),this.backgroundColor=e.Color.parse("#1e2022")},c=function(){this.fillColor=e.Color.parse("#32c5ff"),this.iconColor=e.Color.parse("#1e2022")},u=function(){this.fillColor=e.Color.parse("#44d7b6"),this.iconColor=e.Color.parse("#1e2022")},f=function(){this.fillColor=e.Color.parse("#7b7c7d"),this.iconColor=e.Color.parse("#ffffff")},y=function(){this.shadow=i.BoxShadow.of(0,2,4,0,e.Color.black(.5))},w=function(){function t(){this.base=new d,this.primary=new c,this.secondary=new u,this.disabled=new f,this.floating=new y}return t.prototype.getStyle=function(t){return null},t}(),m=function(){this.font=o.Font.parse("14px sans-serif"),this.color=e.Color.parse("#4a4a4a"),this.backgroundColor=e.Color.parse("#ffffff")},v=function(){this.fillColor=e.Color.parse("#32c5ff"),this.iconColor=e.Color.parse("#1e2022")},g=function(){this.fillColor=e.Color.parse("#44d7b6"),this.iconColor=e.Color.parse("#1e2022")},b=function(){this.fillColor=e.Color.parse("#7b7c7d"),this.iconColor=e.Color.parse("#ffffff")},S=function(){this.shadow=i.BoxShadow.of(0,2,4,0,e.Color.black(.5))},C=function(){function t(){this.base=new m,this.primary=new v,this.secondary=new g,this.disabled=new b,this.floating=new S}return t.prototype.getStyle=function(t){return null},t}(),P={};Object.defineProperty(P,"dark",{get:function(){var t=new w;return Object.defineProperty(P,"dark",{value:t,enumerable:!0,configurable:!0,writable:!0}),t},set:function(t){Object.defineProperty(P,"dark",{value:t,enumerable:!0,configurable:!0,writable:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(P,"light",{get:function(){var t=new C;return Object.defineProperty(P,"light",{value:t,enumerable:!0,configurable:!0,writable:!0}),t},set:function(t){Object.defineProperty(P,"light",{value:t,enumerable:!0,configurable:!0,writable:!0})},enumerable:!0,configurable:!0});var _=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};function k(t,e){function o(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}function x(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s}var V=function(t){function o(e){var o=t.call(this,e)||this;return o._modalState="hidden",o._transition=n.Transition.duration(250,n.Ease.cubicOut),o.onClick=o.onClick.bind(o),o.onSyntheticClick=o.onSyntheticClick.bind(o),"undefined"!=typeof PointerEvent?(o.on("pointerup",o.onClick,{passive:!0}),o.on("click",o.onSyntheticClick)):"undefined"!=typeof TouchEvent?(o.onSyntheticClick=o.onSyntheticClick.bind(o),o.on("touchend",o.onClick,{passive:!0}),o.on("click",o.onSyntheticClick)):o.on("click",o.onClick),o}return k(o,t),o.prototype.initNode=function(t){this.addClass("scrim").display("none").position("absolute").top(0).right(0).bottom(0).left(0).pointerEvents("auto").cursor("pointer"),this.backgroundColor.setAutoState(e.Color.black(0))},Object.defineProperty(o.prototype,"modalState",{get:function(){return this._modalState},enumerable:!1,configurable:!0}),o.prototype.isShown=function(){return"shown"===this._modalState||"showing"===this._modalState},o.prototype.isHidden=function(){return"hidden"===this._modalState||"hiding"===this._modalState},o.prototype.transition=function(t){return void 0===t?this._transition:(t=n.Transition.fromAny(t),this._transition=t,this)},o.prototype.show=function(t,o){"hidden"!==this._modalState&&"hiding"!==this._modalState||(o=void 0===o||!0===o?this._transition:n.Transition.forTween(o),this.willShow(),this.display("block"),null!==o?(this.backgroundColor.setAutoState(e.Color.black(0)),this.backgroundColor.setAutoState(e.Color.black(t),o.onEnd(this.didShow.bind(this)))):(this.backgroundColor.setAutoState(e.Color.black(t)),this.didShow()))},o.prototype.willShow=function(){this._modalState="showing"},o.prototype.didShow=function(){this._modalState="shown"},o.prototype.hide=function(t){"shown"!==this._modalState&&"showing"!==this._modalState||(t=void 0===t||!0===t?this._transition:n.Transition.forTween(t),this.willHide(),null!==t?this.backgroundColor.setAutoState(e.Color.black(0),t.onEnd(this.didHide.bind(this))):(this.backgroundColor.setAutoState(e.Color.black(0)),this.didHide()))},o.prototype.willHide=function(){this._modalState="hiding"},o.prototype.didHide=function(){this._modalState="hidden",this.display("none")},o.prototype.onClick=function(t){var e=this.rootView;e instanceof r.UiView&&(t.stopPropagation(),e.onFallthroughClick(t))},o.prototype.onSyntheticClick=function(t){t.preventDefault(),t.stopPropagation()},o}(r.HtmlView),I=function(t){function o(e){var o=t.call(this,e)||this;return o._illuminationState="passivated",o._illuminationTimer=0,o}return k(o,t),o.prototype.initNode=function(t){this.addClass("illumination").position("absolute").width(s.Length.zero()).height(s.Length.zero()).borderRadius(s.Length.pct(50)).backgroundColor(e.Color.white()).pointerEvents("none")},Object.defineProperty(o.prototype,"illuminationState",{get:function(){return this._illuminationState},enumerable:!1,configurable:!0}),o.prototype.onUnmount=function(){this._illuminationState="passivated",this.cancelIlluminate(),t.prototype.onUnmount.call(this)},o.prototype.illuminate=function(t,e,o,i,n){if(void 0===n&&(n=0),"passivated"===this._illuminationState)if(this.cancelIlluminate(),0!==n){var r=this.illuminate.bind(this,t,e,o,i,0);this._illuminationTimer=setTimeout(r,n)}else{this.willIlluminate();var s=this._node.offsetParent.getBoundingClientRect(),l=t-s.left,a=e-s.top,p=Math.max(l,s.width-l),h=Math.max(a,s.height-a),d=Math.sqrt(p*p+h*h);this.opacity(o),null!==i?this.left(l).top(a).left(l-d,i.onEnd(this.didIlluminate.bind(this))).top(a-d,i).width(2*d,i).height(2*d,i):(this.left(l-d).top(a-d).width(2*d).height(2*d),this.didIlluminate()),this._illuminationState="illuminated"}},o.prototype.willIlluminate=function(){},o.prototype.didIlluminate=function(){},o.prototype.cancelIlluminate=function(){0!==this._illuminationTimer&&(clearTimeout(this._illuminationTimer),this._illuminationTimer=0)},o.prototype.stimulate=function(t,e,o,i){"passivated"===this._illuminationState&&this.illuminate(t,e,o,i),"illuminated"===this._illuminationState&&(this.willStimulate(),null!==i?this.opacity(0,i.onEnd(this.didStimulate.bind(this))):(this.opacity(0),this.didStimulate()),this._illuminationState="stimulated")},o.prototype.willStimulate=function(){},o.prototype.didStimulate=function(){this.remove()},o.prototype.dissipate=function(t,e,o){"passivated"===this._illuminationState?(this.cancelIlluminate(),this.didDissipate()):"illuminated"===this._illuminationState&&(this.willDissipate(),null!==o?this.opacity(0,o.onEnd(this.didDissipate.bind(this))):(this.opacity(0),this.didDissipate())),this._illuminationState="dissipated"},o.prototype.willDissipate=function(){},o.prototype.didDissipate=function(){this.remove()},o}(r.HtmlView),T=function(t){function e(e){return t.call(this,e)||this}return k(e,t),e.prototype.initNode=function(t){this.addClass("tactile")},Object.defineProperty(e.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tactileTransition",{get:function(){return n.Transition.duration(250,n.Ease.cubicOut)},enumerable:!1,configurable:!0}),e.prototype.onBeginTrack=function(t,e){if(void 0===t.view){var o="mouse"===t.pointerType?0:100,i=this.prepend(I);i.illuminate(t.x,t.y,.1,this.tactileTransition,o),t.view=i}},e.prototype.onMoveTrack=function(e,o){t.prototype.onMoveTrack.call(this,e,o),this.clientBounds.contains(e.x,e.y)||(e.preventDefault(),this.beginHover(e.id,e.pointerType,o),e.view instanceof I&&e.view.dissipate(e.x,e.y,this.tactileTransition))},e.prototype.onEndTrack=function(t,e){t.view instanceof I&&(this.clientBounds.contains(t.x,t.y)?t.view.stimulate(t.x,t.y,.1,this.tactileTransition):t.view.dissipate(t.x,t.y,this.tactileTransition))},e.prototype.onCancelTrack=function(t,e){t.view instanceof I&&t.view.dissipate(t.x,t.y,this.tactileTransition)},e}(l.GestureView),A=function(t){function o(e){void 0===e&&(e=document.createElement("div"));var o=t.call(this,e)||this;o.arrowWidth.setState(s.Length.fromAny(10)),o.arrowHeight.setState(s.Length.fromAny(8)),o._source=null,o._sourceFrame=null,o._modalState="shown",o._placement=["top","bottom","right","left"],o._placementFrame=null,o._popoverTransition=n.Transition.duration(250,n.Ease.cubicOut);var i=o.createArrow();if(null!==i){var l=r.View.fromNode(i);o.prependChildView(l,"arrow")}return o}return k(o,t),o.prototype.createArrow=function(){var t=document.createElement("div");return t.setAttribute("class","popover-arrow"),t.style.setProperty("display","none"),t.style.setProperty("position","absolute"),t.style.setProperty("width","0"),t.style.setProperty("height","0"),t},Object.defineProperty(o.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"source",{get:function(){return this._source},enumerable:!1,configurable:!0}),o.prototype.setSource=function(t){this._source!==t&&(this.willSetSource(t),null!==this._source&&this.isMounted()&&this._source.removeViewObserver(this),this._source=t,this.onSetSource(t),null!==this._source&&this.isMounted()&&this._source.addViewObserver(this),this.didSetSource(t))},o.prototype.willSetSource=function(t){this.willObserve((function(e){void 0!==e.popoverWillSetSource&&e.popoverWillSetSource(t,this)}))},o.prototype.onSetSource=function(t){this.requireUpdate(r.View.NeedsLayout)},o.prototype.didSetSource=function(t){this.didObserve((function(e){void 0!==e.popoverDidSetSource&&e.popoverDidSetSource(t,this)}))},Object.defineProperty(o.prototype,"modalState",{get:function(){return this._modalState},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"modalView",{get:function(){return this},enumerable:!1,configurable:!0}),o.prototype.toggleModal=function(t){"hidden"===this._modalState||"hiding"===this._modalState?this.showModal(t):"shown"!==this._modalState&&"showing"!==this._modalState||this.hideModal(t)},o.prototype.showModal=function(t){if("hidden"===this._modalState||"hiding"===this._modalState){t=void 0===t||!0===t?this._popoverTransition:n.Transition.forTween(t),this.willShow();var e=this.place();null!==t?(t=t.onEnd(this.didShow.bind(this)),"above"===e?(this.opacity.setState(void 0),void 0===this.marginTop.value&&this.marginTop(-this._node.clientHeight),this.marginTop(0,t)):"below"===e?(this.opacity.setState(void 0),void 0===this.marginTop.value&&this.marginTop(this._node.clientHeight),this.marginTop(0,t)):(this.marginTop.setState(void 0),void 0===this.opacity.value&&this.opacity(0),this.opacity(1,t))):this.didShow()}},o.prototype.willShow=function(){this.willObserve((function(t){void 0!==t.popoverWillShow&&t.popoverWillShow(this)})),this.visibility("visible"),this._modalState="showing"},o.prototype.didShow=function(){this._modalState="shown",this.pointerEvents("auto"),this.marginTop.setState(void 0),this.opacity.setState(void 0),this.didObserve((function(t){void 0!==t.popoverDidShow&&t.popoverDidShow(this)}))},o.prototype.hideModal=function(t){if("shown"===this._modalState||"showing"===this._modalState){t=void 0===t||!0===t?this._popoverTransition:n.Transition.forTween(t),this.willHide();var e=this.place();null!==t?(t=t.onEnd(this.didHide.bind(this)),"above"===e?(this.opacity.setState(void 0),void 0===this.marginTop.value&&this.marginTop(0),this.marginTop(-this._node.clientHeight,t)):"below"===e?(this.opacity.setState(void 0),void 0===this.marginTop.value&&this.marginTop(0),this.marginTop(this._node.clientHeight,t)):(this.marginTop.setState(void 0),void 0===this.opacity.value&&this.opacity(1),this.opacity(0,t))):this.didHide()}},o.prototype.willHide=function(){this.willObserve((function(t){void 0!==t.popoverWillHide&&t.popoverWillHide(this)})),this.pointerEvents("none"),this._modalState="hiding"},o.prototype.didHide=function(){this._modalState="hidden",this.visibility("hidden"),this.marginTop.setState(void 0),this.opacity.setState(void 0),this.didObserve((function(t){void 0!==t.popoverDidHide&&t.popoverDidHide(this)}))},o.prototype.placement=function(t){if(void 0===t)return this._placement;if(!a.Objects.equalArray(this._placement,t)){this._placement.length=0;for(var e=0,o=t.length;e<o;e+=1)this._placement.push(t[e]);this.place()}return this},o.prototype.placementFrame=function(t){return void 0===t?this._placementFrame:(a.Objects.equal(this._placementFrame,t)||(this._placementFrame=t,this.place()),this)},o.prototype.popoverTransition=function(t){return void 0===t?this._popoverTransition:(null!==t&&(t=n.Transition.fromAny(t)),this)},o.prototype.modifyUpdate=function(e){var o=0;return 0!=(e&(r.View.NeedsScroll|r.View.NeedsAnimate))&&(o|=r.View.NeedsLayout),o|=t.prototype.modifyUpdate.call(this,e|o)},o.prototype.didMount=function(){null!==this._source&&this._source.addViewObserver(this),t.prototype.didMount.call(this)},o.prototype.willUnmount=function(){t.prototype.willUnmount.call(this),null!==this._source&&this._source.removeViewObserver(this)},o.prototype.onLayout=function(e){t.prototype.onLayout.call(this,e),this.place()},o.prototype.place=function(){var t=this._source,e=this._sourceFrame,o=null!==t?t.popoverFrame:null;if(null===o||0===this._placement.length||o.equals(e))return"none";var i=this.placePopover(t,o),n=this.getChildView("arrow");return n instanceof r.HtmlView&&this.placeArrow(t,o,n,i),i},o.prototype.placePopover=function(t,e){var o=this._node,i=o.offsetParent;if(null===i)return"none";for(var n,r=o.clientWidth,l=o.clientHeight,a=i.getBoundingClientRect(),p=a.left,h=a.top,d=e.left-window.pageXOffset-p,c=e.right-window.pageXOffset-p,u=e.top-window.pageYOffset-h,f=e.bottom-window.pageYOffset-h,y=e.width,w=e.height,m=d+y/2,v=u+w/2,g=this._placementFrame,b=null!==g?g.left:0,S=(null!==g?g.right:window.innerWidth)-p,C=null!==g?g.top:0,P=(null!==g?g.bottom:window.innerHeight)-h,_=d-b-window.pageXOffset,k=S-d-y,x=u-C-window.pageYOffset,V=P-u-w,I=this.arrowHeight.value.pxValue(),T=0;T<this._placement.length;T+=1){if("above"===(D=this._placement[T])||"below"===D||"over"===D){n=D;break}if("top"===D&&l+I<=x){n=D;break}if("bottom"===D&&l+I<=V){n=D;break}if("left"===D&&r+I<=_){n=D;break}if("right"===D&&r+I<=k){n=D;break}}if(void 0===n){n="none";T=0;for(var A=this._placement.length;T<A;T+=1){var D;if("top"===(D=this._placement[T])&&x>=V){n=D;break}if("bottom"===D&&V>=x){n=D;break}if("left"===D&&_>=k){n=D;break}if("right"===D&&k>=_){n=D;break}}}var H,O,L=o.style.getPropertyValue("max-width"),M=o.style.getPropertyValue("max-height"),R=L?s.Length.fromAny(L).pxValue():0,E=M?s.Length.fromAny(M).pxValue():0,W=R,j=E,N=o.offsetLeft,B=o.offsetTop;return"above"===n?(N=b,B=C,H=(null!==g?g.width:window.innerWidth)-S,W=Math.max(0,S-b),j=Math.max(0,P-C)):"below"===n?(N=b,B=P-l,H=S-(null!==g?g.width:window.innerWidth),W=Math.max(0,S-b),j=Math.max(0,P-C)):"over"===n?(N=b,B=C,H=S-(null!==g?g.width:window.innerWidth),O=P-(null!==g?g.height:window.innerHeight),W=Math.max(0,S-b),j=Math.max(0,P-C)):"top"===n?(N=m-r/2<=b?b:m+r/2>=S?S-r:m-r/2,B=Math.max(C,u-(l+I)),W=Math.max(0,S-b),j=Math.max(0,f-C)):"bottom"===n?(N=m-r/2<=b?b:m+r/2>=S?S-r:m-r/2,B=Math.max(C,f+I),W=Math.max(0,S-b),j=Math.max(0,P-u)):"left"===n?(N=Math.max(b,d-(r+I)),B=v-l/2<=C?C:v+l/2>=P?P-l:v-l/2,W=Math.max(0,c-b),j=Math.max(0,P-C)):"right"===n&&(N=Math.max(b,c+I),B=v-l/2<=C?C:v+l/2>=P?P-l:v-l/2,W=Math.max(0,S-d),j=Math.max(0,P-C)),"none"===n||N===o.offsetLeft&&B===o.offsetTop&&W===R&&j===E||(this.willPlacePopover(n),o.style.setProperty("position","absolute"),o.style.setProperty("left",N+"px"),void 0!==H?o.style.setProperty("right",H+"px"):o.style.removeProperty("right"),o.style.setProperty("top",B+"px"),void 0!==O?o.style.setProperty("bottom",O+"px"):o.style.removeProperty("bottom"),o.style.setProperty("max-width",W+"px"),o.style.setProperty("max-height",j+"px"),this.onPlacePopover(n),this.didPlacePopover(n)),n},o.prototype.willPlacePopover=function(t){this.willObserve((function(e){void 0!==e.popoverWillPlace&&e.popoverWillPlace(t,this)}))},o.prototype.onPlacePopover=function(t){},o.prototype.didPlacePopover=function(t){this.didObserve((function(e){void 0!==e.popoverDidPlace&&e.popoverDidPlace(t,this)}))},o.prototype.placeArrow=function(t,o,i,n){var r=this._node,l=r.offsetParent;if(null!==l){var a=i._node,p=l.getBoundingClientRect(),h=p.left,d=p.top,c=o.left-window.pageXOffset-h,u=o.top-window.pageYOffset-d,f=c+o.width/2,y=u+o.height/2,w=r.offsetLeft,m=w+r.clientWidth,v=r.offsetTop,g=v+r.clientHeight,b=this.backgroundColor()||e.Color.transparent(),S=this.borderRadius(),C=S instanceof s.Length?S.pxValue():0,P=this.arrowWidth.value.pxValue(),_=this.arrowHeight.value.pxValue(),k=w+C+P/2,x=m-C-P/2,V=v+C+P/2,I=g-C-P/2;a.style.removeProperty("top"),a.style.removeProperty("right"),a.style.removeProperty("bottom"),a.style.removeProperty("left"),a.style.removeProperty("border-left-width"),a.style.removeProperty("border-left-style"),a.style.removeProperty("border-left-color"),a.style.removeProperty("border-right-width"),a.style.removeProperty("border-right-style"),a.style.removeProperty("border-right-color"),a.style.removeProperty("border-top-width"),a.style.removeProperty("border-top-style"),a.style.removeProperty("border-top-color"),a.style.removeProperty("border-bottom-width"),a.style.removeProperty("border-bottom-style"),a.style.removeProperty("border-bottom-color"),"none"===n||"above"===n||"below"===n||"over"===n?a.style.setProperty("display","none"):v-_>=y&&k<=f&&f<=x?(a.style.setProperty("display","block"),a.style.setProperty("top",-_+"px"),a.style.setProperty("left",f-w-P/2+"px"),a.style.setProperty("border-left-width",P/2+"px"),a.style.setProperty("border-left-style","solid"),a.style.setProperty("border-left-color","transparent"),a.style.setProperty("border-right-width",P/2+"px"),a.style.setProperty("border-right-style","solid"),a.style.setProperty("border-right-color","transparent"),a.style.setProperty("border-bottom-width",_+"px"),a.style.setProperty("border-bottom-style","solid"),a.style.setProperty("border-bottom-color",b.toString())):g+_<=y&&k<=f&&f<=x?(a.style.setProperty("display","block"),a.style.setProperty("bottom",-_+"px"),a.style.setProperty("left",f-w-P/2+"px"),a.style.setProperty("border-left-width",P/2+"px"),a.style.setProperty("border-left-style","solid"),a.style.setProperty("border-left-color","transparent"),a.style.setProperty("border-right-width",P/2+"px"),a.style.setProperty("border-right-style","solid"),a.style.setProperty("border-right-color","transparent"),a.style.setProperty("border-top-width",_+"px"),a.style.setProperty("border-top-style","solid"),a.style.setProperty("border-top-color",b.toString())):w-_>=f&&V<=y&&y<=I?(a.style.setProperty("display","block"),a.style.setProperty("left",-_+"px"),a.style.setProperty("top",y-v-P/2+"px"),a.style.setProperty("border-top-width",P/2+"px"),a.style.setProperty("border-top-style","solid"),a.style.setProperty("border-top-color","transparent"),a.style.setProperty("border-bottom-width",P/2+"px"),a.style.setProperty("border-bottom-style","solid"),a.style.setProperty("border-bottom-color","transparent"),a.style.setProperty("border-right-width",_+"px"),a.style.setProperty("border-right-style","solid"),a.style.setProperty("border-right-color",b.toString())):m+_<=f&&V<=y&&y<=I?(a.style.setProperty("display","block"),a.style.setProperty("right",-_+"px"),a.style.setProperty("top",y-v-P/2+"px"),a.style.setProperty("border-top-width",P/2+"px"),a.style.setProperty("border-top-style","solid"),a.style.setProperty("border-top-color","transparent"),a.style.setProperty("border-bottom-width",P/2+"px"),a.style.setProperty("border-bottom-style","solid"),a.style.setProperty("border-bottom-color","transparent"),a.style.setProperty("border-left-width",_+"px"),a.style.setProperty("border-left-style","solid"),a.style.setProperty("border-left-color",b.toString())):a.style.setProperty("display","none")}},o.prototype.viewDidMount=function(t){this.place()},o.prototype.viewDidPower=function(t){this.place()},o.prototype.viewDidScroll=function(t,e){this.place()},o.prototype.viewDidLayout=function(t,e){this.place()},o.prototype.viewDidSetAttribute=function(t,e,o){this.place()},o.prototype.viewDidSetStyle=function(t,e,o,i){this.place()},x([r.MemberAnimator(s.Length)],o.prototype,"arrowWidth",void 0),x([r.MemberAnimator(s.Length)],o.prototype,"arrowHeight",void 0),o}(r.HtmlView),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),Object.defineProperty(e.prototype,"source",{get:function(){var t=this._view;return null!==t?t.source:null},enumerable:!1,configurable:!0}),e.prototype.popoverWillSetSource=function(t,e){},e.prototype.popoverDidSetSource=function(t,e){},e.prototype.popoverWillPlace=function(t,e){},e.prototype.popoverDidPlace=function(t,e){},e.prototype.popoverWillShow=function(t){},e.prototype.popoverDidShow=function(t){},e.prototype.popoverWillHide=function(t){},e.prototype.popoverDidHide=function(t){},e}(r.HtmlViewController),H=function(t){function o(e){var o=t.call(this,e)||this;return o.collapsedWidth.setAutoState(s.Length.px(60)),o.expandedWidth.setAutoState(s.Length.px(200)),o.drawerSlide.setState(0),o.drawerSlide.update=o.updateDrawerSlide.bind(o),o.drawerStretch.setState(1),o.drawerStretch.update=o.updateDrawerStretch.bind(o),o._drawerPlacement="left",o._drawerState="hidden",o._drawerTransition=n.Transition.duration(250,n.Ease.cubicOut),o}return k(o,t),o.prototype.initNode=function(t){this.addClass("drawer").display("none").flexDirection("column").overflowX("hidden").overflowY("auto").overscrollBehaviorY("contain").webkitOverflowScrolling("touch").backgroundColor("#26282a")},Object.defineProperty(o.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"drawerState",{get:function(){return this._drawerState},enumerable:!1,configurable:!0}),o.prototype.isShown=function(){return"shown"===this._drawerState||"showing"===this._drawerState},o.prototype.isHidden=function(){return"hidden"===this._drawerState||"hiding"===this._drawerState},o.prototype.isCollapsed=function(){return"collapsed"===this._drawerState||"collapsing"===this._drawerState},o.prototype.drawerPlacement=function(t){var e=this._drawerPlacement;return void 0===t?e:(e!==t&&(this.willSetDrawerPlacement(t,e),this._drawerPlacement=t,this.onSetDrawerPlacement(t,e),this.didSetDrawerPlacement(t,e)),this)},o.prototype.isHorizontal=function(){return"top"===this._drawerPlacement||"bottom"===this._drawerPlacement},o.prototype.isVertical=function(){return"left"===this._drawerPlacement||"right"===this._drawerPlacement},o.prototype.willSetDrawerPlacement=function(t,e){this.willObserve((function(o){void 0!==o.drawerWillSetPlacement&&o.drawerWillSetPlacement(t,e,this)}))},o.prototype.onSetDrawerPlacement=function(t,e){this.requireUpdate(r.View.NeedsLayout)},o.prototype.didSetDrawerPlacement=function(t,e){this.didObserve((function(o){void 0!==o.drawerDidSetPlacement&&o.drawerDidSetPlacement(t,e,this)}))},o.prototype.updateDrawerSlide=function(t){var e=this._drawerPlacement;"top"===e?this.updateDrawerSlideTop(t):"right"===e?this.updateDrawerSlideRight(t):"bottom"===e?this.updateDrawerSlideBottom(t):"left"===e&&this.updateDrawerSlideLeft(t)},o.prototype.updateDrawerSlideTop=function(t){this.top.setAutoState(s.Length.px((t-1)*this._node.offsetHeight))},o.prototype.updateDrawerSlideRight=function(t){this.right.setAutoState(s.Length.px((t-1)*this._node.offsetWidth))},o.prototype.updateDrawerSlideBottom=function(t){this.bottom.setAutoState(s.Length.px((t-1)*this._node.offsetHeight))},o.prototype.updateDrawerSlideLeft=function(t){this.left.setAutoState(s.Length.px((t-1)*this._node.offsetWidth))},o.prototype.updateDrawerStretch=function(t){if(this.isVertical()){var e=this.collapsedWidth.value,o=this.expandedWidth.value,i=e.times(1-t).plus(o.times(t));this.width.setAutoState(i)}},o.prototype.onLayout=function(o){t.prototype.onLayout.call(this,o),this.place(o),"mobile"===o.viewIdiom?(this.borderRightColor(e.Color.transparent()),this.boxShadow.setState(i.BoxShadow.of(0,2,4,0,e.Color.black(.5)))):(this.borderRightColor(e.Color.black()),this.boxShadow.setState(void 0))},o.prototype.place=function(t){var e=this._drawerPlacement;"top"===e?this.placeTop(t):"right"===e?this.placeRight(t):"bottom"===e?this.placeBottom(t):"left"===e&&this.placeLeft(t)},o.prototype.placeTop=function(t){this.addClass("drawer-top").removeClass("drawer-right").removeClass("drawer-bottom").removeClass("drawer-left"),this.position.setAutoState("fixed"),this.width.setAutoState(void 0),this.height.setAutoState(void 0),this.top.setAutoState(void 0),this.right.setAutoState(s.Length.zero()),this.bottom.setAutoState(void 0),this.left.setAutoState(s.Length.zero()),this.updateDrawerSlideTop(this.drawerSlide.value);var e=t.viewport.safeArea;this.edgeInsets.setState({insetTop:0,insetRight:e.insetRight,insetBottom:0,insetLeft:e.insetLeft}),this.isCollapsed()&&this.expand()},o.prototype.placeRight=function(t){this.removeClass("drawer-top").addClass("drawer-right").removeClass("drawer-bottom").removeClass("drawer-left"),this.position.setAutoState("fixed"),this.width.setAutoState(void 0),this.height.setAutoState(void 0),this.top.setAutoState(s.Length.zero()),this.right.setAutoState(void 0),this.bottom.setAutoState(s.Length.zero()),this.left.setAutoState(void 0),this.updateDrawerSlideRight(this.drawerSlide.value),this.updateDrawerStretch(this.drawerStretch.value);var e=t.viewport.safeArea;this.paddingTop.setAutoState(s.Length.px(e.insetTop)),this.paddingBottom.setAutoState(s.Length.px(e.insetBottom)),this.edgeInsets.setState({insetTop:0,insetRight:e.insetRight,insetBottom:0,insetLeft:0})},o.prototype.placeBottom=function(t){this.removeClass("drawer-top").removeClass("drawer-right").addClass("drawer-bottom").removeClass("drawer-left"),this.position.setAutoState("fixed"),this.width.setAutoState(void 0),this.height.setAutoState(void 0),this.top.setAutoState(void 0),this.right.setAutoState(s.Length.zero()),this.bottom.setAutoState(void 0),this.left.setAutoState(s.Length.zero()),this.updateDrawerSlideBottom(this.drawerSlide.value);var e=t.viewport.safeArea;this.edgeInsets.setState({insetTop:0,insetRight:e.insetRight,insetBottom:0,insetLeft:e.insetLeft}),this.isCollapsed()&&this.expand()},o.prototype.placeLeft=function(t){this.removeClass("drawer-top").removeClass("drawer-right").removeClass("drawer-bottom").addClass("drawer-left"),this.position.setAutoState("fixed"),this.width.setAutoState(void 0),this.height.setAutoState(void 0),this.top.setAutoState(s.Length.zero()),this.right.setAutoState(void 0),this.bottom.setAutoState(s.Length.zero()),this.left.setAutoState(void 0),this.updateDrawerSlideLeft(this.drawerSlide.value),this.updateDrawerStretch(this.drawerStretch.value);var e=t.viewport.safeArea;this.paddingTop.setAutoState(s.Length.px(e.insetTop)),this.paddingBottom.setAutoState(s.Length.px(e.insetBottom)),this.edgeInsets.setState({insetTop:0,insetRight:0,insetBottom:0,insetLeft:e.insetLeft})},Object.defineProperty(o.prototype,"modalState",{get:function(){var t=this._drawerState;return"collapsed"===t||"collapsing"===t?"shown":t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"modalView",{get:function(){return this},enumerable:!1,configurable:!0}),o.prototype.showModal=function(t){this.show(t)},o.prototype.hideModal=function(t){this.hide(t)},o.prototype.show=function(t){this.isShown()&&1===this.drawerSlide.value&&1===this.drawerStretch.value||(t=void 0===t||!0===t?this._drawerTransition:n.Transition.forTween(t),this.willShow(),null!==t?this.drawerStretch(1,t).drawerSlide(1,t.onEnd(this.didShow.bind(this))):(this.drawerStretch(1).drawerSlide(1),this.didShow()))},o.prototype.willShow=function(){this.willObserve((function(t){void 0!==t.drawerWillShow&&t.drawerWillShow(this)})),this._drawerState="showing",this.display("flex")},o.prototype.didShow=function(){this._drawerState="shown",this.didObserve((function(t){void 0!==t.drawerDidShow&&t.drawerDidShow(this)}))},o.prototype.hide=function(t){this.isHidden()&&0===this.drawerSlide.value||(t=void 0===t||!0===t?this._drawerTransition:n.Transition.forTween(t),this.willHide(),null!==t?this.drawerSlide(0,t.onEnd(this.didHide.bind(this))):(this.drawerSlide(0),this.didHide()))},o.prototype.willHide=function(){this.willObserve((function(t){void 0!==t.drawerWillHide&&t.drawerWillHide(this)})),this._drawerState="hiding"},o.prototype.didHide=function(){this.display("none"),this._drawerState="hidden",this.didObserve((function(t){void 0!==t.drawerDidHide&&t.drawerDidHide(this)}))},o.prototype.expand=function(t){this.isShown()&&1===this.drawerSlide.value&&1===this.drawerStretch.value||(t=void 0===t||!0===t?this._drawerTransition:n.Transition.forTween(t),this.willExpand(),null!==t?this.drawerSlide(1,t).drawerStretch(1,t.onEnd(this.didExpand.bind(this))):(this.drawerSlide(1).drawerStretch(1),this.didExpand()))},o.prototype.willExpand=function(){this.willObserve((function(t){void 0!==t.drawerWillExpand&&t.drawerWillExpand(this)})),this._drawerState="showing"},o.prototype.didExpand=function(){this._drawerState="shown",this.didObserve((function(t){void 0!==t.drawerDidExpand&&t.drawerDidExpand(this)}))},o.prototype.collapse=function(t){!this.isVertical()||this.isCollapsed()&&1===this.drawerSlide.value&&0===this.drawerStretch.value||(t=void 0===t||!0===t?this._drawerTransition:n.Transition.forTween(t),this.willCollapse(),null!==t?this.drawerSlide(1,t).drawerStretch(0,t.onEnd(this.didCollapse.bind(this))):(this.drawerSlide(1).drawerStretch(0),this.didCollapse()))},o.prototype.willCollapse=function(){this.willObserve((function(t){void 0!==t.drawerWillCollapse&&t.drawerWillCollapse(this)})),this._drawerState="collapsing",this.display("flex")},o.prototype.didCollapse=function(){this._drawerState="collapsed",this.didObserve((function(t){void 0!==t.drawerDidCollapse&&t.drawerDidCollapse(this)}))},o.prototype.toggle=function(t){var e=this._drawerState;"hidden"===e||"hiding"===e?this.show(t):"collapsed"===e||"collapsing"===e?this.expand(t):"mobile"===this.viewIdiom?this.hide(t):this.collapse(t)},x([r.MemberAnimator(s.Length)],o.prototype,"collapsedWidth",void 0),x([r.MemberAnimator(s.Length)],o.prototype,"expandedWidth",void 0),x([r.MemberAnimator(Number)],o.prototype,"drawerSlide",void 0),x([r.MemberAnimator(Number)],o.prototype,"drawerStretch",void 0),x([r.ViewScope],o.prototype,"edgeInsets",void 0),o}(r.HtmlView),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),e.prototype.drawerWillSetPlacement=function(t,e,o){},e.prototype.drawerDidSetPlacement=function(t,e,o){},e.prototype.drawerWillShow=function(t){},e.prototype.drawerDidShow=function(t){},e.prototype.drawerWillHide=function(t){},e.prototype.drawerDidHide=function(t){},e.prototype.drawerWillExpand=function(t){},e.prototype.drawerDidExpand=function(t){},e.prototype.drawerWillCollapse=function(t){},e.prototype.drawerDidCollapse=function(t){},e}(r.HtmlViewController),L=function(t){function e(e){var o=t.call(this,e)||this;return o.onClick=o.onClick.bind(o),o._drawerView=null,o.initChildren(),o}return k(e,t),e.prototype.initNode=function(t){this.addClass("drawer-button").display("flex").justifyContent("center").alignItems("center").width(48).height(48).userSelect("none").cursor("pointer")},e.prototype.initChildren=function(){this.append(this.createIcon(),"icon")},e.prototype.createIcon=function(){var t=r.SvgView.create("svg").width(30).height(30).viewBox("0 0 30 30").stroke("#ffffff").strokeWidth(2).strokeLinecap("round");return t.append("path").d("M4 7h22M4 15h22M4 23h22"),t},Object.defineProperty(e.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"drawerView",{get:function(){return this._drawerView},enumerable:!1,configurable:!0}),e.prototype.setDrawerView=function(t){this._drawerView=t},Object.defineProperty(e.prototype,"iconView",{get:function(){var t=this.getChildView("icon");return t instanceof r.HtmlView?t:null},enumerable:!1,configurable:!0}),e.prototype.onMount=function(){t.prototype.onMount.call(this),this.on("click",this.onClick)},e.prototype.onUnmount=function(){this.off("click",this.onClick),t.prototype.onUnmount.call(this)},e.prototype.onInsertChildView=function(e,o){t.prototype.onInsertChildView.call(this,e,o),"icon"===e.key&&(e instanceof r.SvgView||e instanceof r.HtmlView)&&this.onInsertIcon(e)},e.prototype.onRemoveChildView=function(e){"icon"===e.key&&(e instanceof r.SvgView||e instanceof r.HtmlView)&&this.onRemoveIcon(e),t.prototype.onRemoveChildView.call(this,e)},e.prototype.onInsertIcon=function(t){},e.prototype.onRemoveIcon=function(t){},e.prototype.onClick=function(t){t.stopPropagation();var e=this._drawerView;null!==e&&e.toggle()},e}(r.HtmlView),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),Object.defineProperty(e.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),e.prototype.createTheme=function(){return"dark"===this.viewport.colorScheme?P.dark:P.light},e.prototype.onResize=function(e){t.prototype.onResize.call(this,e),this.updateViewIdiom(e.viewport)},e.prototype.updateViewIdiom=function(t){t.width<960||t.height<480?this.setViewIdiom("mobile"):this.setViewIdiom("desktop")},x([r.ViewScope({init:function(){return this.createTheme()}})],e.prototype,"theme",void 0),e}(r.UiView),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),e}(r.UiViewController),E=function(t){function e(e){return t.call(this,e)||this}return k(e,t),e.prototype.initNode=function(e){t.prototype.initNode.call(this,e),this.addClass("action-button").position("relative").display("flex").justifyContent("center").alignItems("center").width(56).height(56).borderRadius("50%").overflow("hidden").userSelect("none").cursor("pointer")},Object.defineProperty(e.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"iconContainer",{get:function(){var t=this.getChildView("iconContainer");return t instanceof r.HtmlView?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){var t=this.iconContainer,e=null!==t?t.getChildView("icon"):null;return e instanceof r.SvgView||e instanceof r.HtmlView?e:null},enumerable:!1,configurable:!0}),e.prototype.setIcon=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=!1),e=n.Transition.forTween(e);var i=this.getChildView("iconContainer");i instanceof r.HtmlView&&(this.removeChildViewMap(i),i.setKey(null),null!==e?i.opacity(0,e.onEnd(i.remove.bind(i))).transform(h.Transform.rotate(p.Angle.deg(o?-90:90)),e):i.remove());var s=this.createIconContainer(t).opacity(0).opacity(1,e).transform(h.Transform.rotate(p.Angle.deg(o?90:-90))).transform(h.Transform.rotate(p.Angle.deg(0)),e);this.appendChildView(s,"iconContainer")},e.prototype.createIconContainer=function(t){var e=r.HtmlView.create("div").addClass("action-icon").position("absolute").display("flex").justifyContent("center").alignItems("center").width(56).height(56).pointerEvents("none");return null!==t&&e.appendChildView(t,"icon"),e},e.prototype.setTheme=function(t){this.backgroundColor.setAutoState(t.primary.fillColor),this.boxShadow.setAutoState(t.floating.shadow);var e=this.icon;e instanceof r.SvgView&&e.fill.setAutoState(t.primary.iconColor)},e.prototype.onMount=function(){t.prototype.onMount.call(this),this.requireUpdate(r.View.NeedsDerive)},e.prototype.onDerive=function(e){t.prototype.onDerive.call(this,e);var o=this.theme.state;void 0!==o&&this.setTheme(o)},e.prototype.onInsertChildView=function(e,o){t.prototype.onInsertChildView.call(this,e,o),"iconContainer"===e.key&&e instanceof r.HtmlView&&this.onInsertIconContainer(e)},e.prototype.onRemoveChildView=function(e){"iconContainer"===e.key&&e instanceof r.HtmlView&&this.onRemoveIconContainer(e),t.prototype.onRemoveChildView.call(this,e)},e.prototype.onInsertIconContainer=function(t){},e.prototype.onRemoveIconContainer=function(t){},e.prototype.onStartHovering=function(){var t=this.theme.state;void 0!==t&&this.backgroundColor.setAutoState(t.primary.fillColor.darker(.5),this.tactileTransition)},e.prototype.onStopHovering=function(){var t=this.theme.state;void 0!==t&&this.backgroundColor.setAutoState(t.primary.fillColor,this.tactileTransition)},e.prototype.onMoveTrack=function(t,e){},x([r.ViewScope({inherit:!0})],e.prototype,"theme",void 0),e}(T),W=function(t){function o(e){return t.call(this,e)||this}return k(o,t),o.prototype.initNode=function(t){this.addClass("action-item").position("relative").display("flex").justifyContent("center").alignItems("center").width(48).height(48).borderRadius("50%").userSelect("none").cursor("pointer")},Object.defineProperty(o.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"icon",{get:function(){var t=this.getChildView("icon");return t instanceof r.SvgView||t instanceof r.HtmlView?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"label",{get:function(){var t=this.getChildView("label");return t instanceof r.HtmlView?t:null},enumerable:!1,configurable:!0}),o.prototype.setTheme=function(t){this.backgroundColor.setAutoState(t.secondary.fillColor),this.boxShadow.setAutoState(t.floating.shadow),this.hoverColor.setAutoState(t.secondary.fillColor.darker(.5));var e=this.icon;e instanceof r.SvgView&&e.fill.setAutoState(t.secondary.iconColor)},o.prototype.onMount=function(){this.requireUpdate(r.View.NeedsDerive)},o.prototype.modifyUpdate=function(e){var o=0;return 0!=(e&r.View.NeedsAnimate)&&(o|=r.View.NeedsLayout),o|=t.prototype.modifyUpdate.call(this,e|o)},o.prototype.onDerive=function(e){t.prototype.onDerive.call(this,e);var o=this.theme.state;void 0!==o&&this.setTheme(o)},o.prototype.onLayout=function(e){t.prototype.onLayout.call(this,e);var o=this.label;null!==o&&o.opacity(this.stackPhase.value)},o.prototype.onInsertChildView=function(e,o){t.prototype.onInsertChildView.call(this,e,o);var i=e.key;"icon"===i&&(e instanceof r.SvgView||e instanceof r.HtmlView)?this.onInsertIcon(e):"label"===i&&e instanceof r.HtmlView&&this.onInsertLabel(e)},o.prototype.onRemoveChildView=function(e){var o=e.key;"icon"===o&&(e instanceof r.SvgView||e instanceof r.HtmlView)?this.onRemoveIcon(e):"label"===o&&e instanceof r.HtmlView&&this.onRemoveLabel(e),t.prototype.onRemoveChildView.call(this,e)},o.prototype.onInsertIcon=function(t){},o.prototype.onRemoveIcon=function(t){},o.prototype.onInsertLabel=function(t){t.display.setAutoState("block"),t.position("absolute").top(0).right(60).bottom(0).fontSize(17).fontWeight("500").lineHeight("48px").whiteSpace("nowrap").color("#cccccc")},o.prototype.onRemoveLabel=function(t){},x([r.ViewScope({inherit:!0})],o.prototype,"theme",void 0),x([r.MemberAnimator(Number,{inherit:!0})],o.prototype,"stackPhase",void 0),x([r.MemberAnimator(e.Color)],o.prototype,"hoverColor",void 0),o}(r.HtmlView),j=function(){function t(t){this._actionStack=t}return t.prototype.viewDidBeginTrack=function(t,e,o){},t.prototype.viewDidHoldTrack=function(t,e){this._actionStack.toggle(),t.preventDefault()},t.prototype.viewDidMoveTrack=function(t,e,o){if(!t.defaultPrevented){var i=this._actionStack;if(i.isCollapsed()){var n=Math.min(Math.max(0,-t.dy/100),1);i.stackPhase.setState(n),i.requireUpdate(r.View.NeedsLayout),n>.1&&t.clearHoldTimer()}}},t.prototype.viewDidEndTrack=function(t,e,o){if(!t.defaultPrevented){var i=this._actionStack,n=i.stackPhase.value;t.dt<t.holdDelay?n<.1||"expanded"===i.stackState?i.collapse():i.expand():n<.5?i.collapse():n>=.5&&i.expand()}},t.prototype.viewDidCancelTrack=function(t,e,o){var i=this._actionStack;2===t.buttons?i.toggle():i.stackPhase.value<.1||"expanded"===i.stackState?i.collapse():i.expand()},t}(),N=function(t){function e(e){var o=t.call(this,e)||this;return o.onClick=o.onClick.bind(o),o.onContextMenu=o.onContextMenu.bind(o),o._stackState="collapsed",o._stackTransition=n.Transition.duration(250,n.Ease.cubicOut),o._buttonIcon=null,o._buttonSpacing=36,o._itemSpacing=20,o.initChildren(),o}return k(e,t),e.prototype.initNode=function(t){this.addClass("action-stack").display("block").position("relative").width(56).height(56).opacity(1).userSelect("none").touchAction("none")},e.prototype.initChildren=function(){this.append(E,"button")},Object.defineProperty(e.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stackState",{get:function(){return this._stackState},enumerable:!1,configurable:!0}),e.prototype.isExpanded=function(){return"expanded"===this._stackState||"expanding"===this._stackState},e.prototype.isCollapsed=function(){return"collapsed"===this._stackState||"collapsing"===this._stackState},Object.defineProperty(e.prototype,"modalState",{get:function(){var t=this._stackState;return"collapsed"===t?"hidden":"expanding"===t?"showing":"expanded"===t?"shown":"collapsing"===t?"hiding":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modalView",{get:function(){return null},enumerable:!1,configurable:!0}),e.prototype.showModal=function(t){this.expand(t)},e.prototype.hideModal=function(t){this.collapse(t)},Object.defineProperty(e.prototype,"button",{get:function(){var t=this.getChildView("button");return t instanceof E?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buttonIcon",{get:function(){return this._buttonIcon},enumerable:!1,configurable:!0}),e.prototype.setButtonIcon=function(t,e,o){this._buttonIcon=t;var i=this.button;null!==i&&(void 0===e||!0===e?e=this._stackTransition:!1===e&&(e=void 0),i.setIcon(t,e,o))},e.prototype.createCloseIcon=function(){var t=r.SvgView.create("svg").width(24).height(24).viewBox("0 0 24 24");return t.append("path").d("M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"),t},Object.defineProperty(e.prototype,"items",{get:function(){for(var t=this._node.childNodes,e=[],o=0,i=t.length;o<i;o+=1){var n=t[o].view;n instanceof W&&e.push(n)}return e},enumerable:!1,configurable:!0}),e.prototype.insertItem=function(t,e,o){void 0===e&&(e=this.node.childNodes.length-1),this.insertChildNode(t.node,this.node.childNodes[1+e]||null,o)},e.prototype.removeItems=function(){for(var t=this._node.childNodes,e=t.length-1;e>=0;e-=1){var o=t[e].view;o instanceof W&&this.removeChild(o)}},e.prototype.onMount=function(){t.prototype.onMount.call(this),this.on("click",this.onClick),this.on("contextmenu",this.onContextMenu)},e.prototype.onUnmount=function(){this.off("click",this.onClick),this.off("contextmenu",this.onContextMenu),t.prototype.onUnmount.call(this)},e.prototype.modifyUpdate=function(e){var o=0;return 0!=(e&r.View.NeedsAnimate)&&(o|=r.View.NeedsLayout),o|=t.prototype.modifyUpdate.call(this,e|o)},e.prototype.onLayout=function(e){t.prototype.onLayout.call(this,e);for(var o=this.stackPhase.value,i=this._node.childNodes,n=i.length,r=0,s=n-1,l=0;l<n;l+=1){var a=i[l].view;if(a instanceof W){var p=56+this._buttonSpacing+r*(48+this._itemSpacing);a.display(0===o?"none":"flex").bottom(o*p).zIndex(s),r+=1,s-=1}var h=this.button;null!==h&&h.zIndex(n)}},e.prototype.onInsertChildView=function(e,o){t.prototype.onInsertChildView.call(this,e,o),"button"===e.key&&e instanceof E?this.onInsertButton(e):e instanceof W&&this.onInsertItem(e)},e.prototype.onRemoveChildView=function(e){"button"===e.key&&e instanceof E?this.onRemoveButton(e):e instanceof W&&this.onRemoveItem(e),t.prototype.onRemoveChildView.call(this,e)},e.prototype.onInsertButton=function(t){this.isCollapsed&&null!==this._buttonIcon?t.setIcon(this._buttonIcon):this.isExpanded()&&t.setIcon(this.createCloseIcon()),t.zIndex(0),t.addViewObserver(new j(this))},e.prototype.onRemoveButton=function(t){},e.prototype.onInsertItem=function(t){t.position("absolute").right(4).bottom(4).left(4).zIndex(0)},e.prototype.onRemoveItem=function(t){},e.prototype.expand=function(t){(this.isCollapsed()||1!==this.stackPhase.value)&&(t=void 0===t||!0===t?this._stackTransition:n.Transition.forTween(t),this.willExpand(),null!==t?(this.button.setIcon(this.createCloseIcon(),t),1!==this.stackPhase.value?this.stackPhase.setState(1,t.onEnd(this.didExpand.bind(this))):setTimeout(this.didExpand.bind(this))):(this.button.setIcon(this.createCloseIcon()),this.stackPhase.setState(1),this.requireUpdate(r.View.NeedsLayout),this.didExpand()))},e.prototype.willExpand=function(){this.willObserve((function(t){void 0!==t.actionStackWillExpand&&t.actionStackWillExpand(this)})),this._stackState="expanding"},e.prototype.didExpand=function(){this._stackState="expanded",this.didObserve((function(t){void 0!==t.actionStackDidExpand&&t.actionStackDidExpand(this)}))},e.prototype.collapse=function(t){(this.isExpanded()||0!==this.stackPhase.value)&&(t=void 0===t||!0===t?this._stackTransition:n.Transition.forTween(t),this.willCollapse(),null!==t?(this.button.setIcon(this._buttonIcon,t,!0),0!==this.stackPhase.value?this.stackPhase.setState(0,t.onEnd(this.didCollapse.bind(this))):setTimeout(this.didCollapse.bind(this))):(this.button.setIcon(this._buttonIcon),this.stackPhase.setState(0),this.requireUpdate(r.View.NeedsLayout),this.didCollapse()))},e.prototype.willCollapse=function(){this.willObserve((function(t){void 0!==t.actionStackWillCollapse&&t.actionStackWillCollapse(this)})),this._stackState="collapsing"},e.prototype.didCollapse=function(){this._stackState="collapsed",this.didObserve((function(t){void 0!==t.actionStackDidCollapse&&t.actionStackDidCollapse(this)}))},e.prototype.toggle=function(t){var e=this._stackState;"collapsed"===e||"collapsing"===e?this.expand(t):"expanded"!==e&&"expanding"!==e||this.collapse(t)},e.prototype.show=function(t){1!==this.opacity.state&&(t=void 0===t||!0===t?this._stackTransition:n.Transition.forTween(t),this.willShow(),null!==t?this.opacity(1,t.onEnd(this.didShow.bind(this))):(this.opacity(1),this.requireUpdate(r.View.NeedsLayout),this.didShow()))},e.prototype.willShow=function(){this.willObserve((function(t){void 0!==t.actionStackWillShow&&t.actionStackWillShow(this)})),this.display("block")},e.prototype.didShow=function(){this.didObserve((function(t){void 0!==t.actionStackDidShow&&t.actionStackDidShow(this)}))},e.prototype.hide=function(t){0!==this.opacity.state&&(t=void 0===t||!0===t?this._stackTransition:n.Transition.forTween(t),this.willHide(),null!==t?this.opacity(0,t.onEnd(this.didHide.bind(this))):(this.opacity(0),this.requireUpdate(r.View.NeedsLayout),this.didHide()))},e.prototype.willHide=function(){this.willObserve((function(t){void 0!==t.actionStackWillHide&&t.actionStackWillHide(this)}))},e.prototype.didHide=function(){this.display("none"),this.didObserve((function(t){void 0!==t.actionStackDidHide&&t.actionStackDidHide(this)}))},e.prototype.onClick=function(t){t.stopPropagation()},e.prototype.onContextMenu=function(t){t.preventDefault()},x([r.MemberAnimator(Number,{value:0})],e.prototype,"stackPhase",void 0),e}(r.HtmlView),B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),Object.defineProperty(e.prototype,"stackState",{get:function(){return null!==this._view?this._view.stackState:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"button",{get:function(){return null!==this._view?this._view.button:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return null!==this._view?this._view.items:[]},enumerable:!1,configurable:!0}),e.prototype.removeItems=function(){null!==this._view&&this._view.removeItems()},e.prototype.actionStackWillExpand=function(t){},e.prototype.actionStackDidExpand=function(t){var e=this.rootView;null!==e&&e.presentModal(t,{focus:!0})},e.prototype.actionStackWillCollapse=function(t){},e.prototype.actionStackDidCollapse=function(t){var e=this.rootView;null!==e&&e.dismissModal(t)},e.prototype.actionStackWillShow=function(t){},e.prototype.actionStackDidShow=function(t){},e.prototype.actionStackWillHide=function(t){},e.prototype.actionStackDidHide=function(t){},e}(r.HtmlViewController),U=function(t){function e(e){return t.call(this,e)||this}return k(e,t),e.prototype.initNode=function(t){this.addClass("menu-list").flexGrow(1).flexShrink(0).marginTop(12).marginBottom(12)},Object.defineProperty(e.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),e.prototype.onInsertChildView=function(e,o){t.prototype.onInsertChildView.call(this,e,o),e instanceof F&&this.onInsertItem(e)},e.prototype.onRemoveChildView=function(e){e instanceof F&&this.onRemoveItem(e),t.prototype.onRemoveChildView.call(this,e)},e.prototype.onInsertItem=function(t){},e.prototype.onRemoveItem=function(t){},e.prototype.onPressItem=function(t){this.didObserve((function(e){void 0!==e.menuDidPressItem&&e.menuDidPressItem(t,this)}))},e}(r.HtmlView),F=function(t){function o(o){var i=t.call(this,o)||this;return i.onClick=i.onClick.bind(i),i.normalFillColor.setState(e.Color.parse("#9a9a9a")),i.highlightFillColor.setState(e.Color.parse("#d8d8d8")),i.highlightCellColor.setState(e.Color.parse("#0a1215")),i.hoverColor.setState(e.Color.rgb(255,255,255,.05)),i.backgroundColor.setAutoState(i.hoverColor.value.alpha(0)),i._highlighted=!1,i}return k(o,t),o.prototype.initNode=function(t){this.addClass("memu-item").position("relative").display("flex").flexShrink(0).height(44).boxSizing("border-box").lineHeight(44).overflow("hidden").userSelect("none").cursor("pointer"),this.paddingLeft.setAutoState(s.Length.px(4)),this.paddingRight.setAutoState(s.Length.px(4))},Object.defineProperty(o.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"highlighted",{get:function(){return this._highlighted},enumerable:!1,configurable:!0}),o.prototype.createIconView=function(t){var e=r.HtmlView.create("div").display("flex").justifyContent("center").alignItems("center").width(36).height(44);return void 0!==t&&(t.fill(this.normalFillColor.value),e.append(t,"icon")),e},o.prototype.createTitleView=function(t){var e=r.HtmlView.create("span").display("block").fontFamily("system-ui, 'Open Sans', sans-serif").fontSize(17).whiteSpace("nowrap").textOverflow("ellipsis").overflow("hidden").color(this.normalFillColor.value);return void 0!==t&&e.text(t),e},o.prototype.iconView=function(t){var e=this.getChildView("icon"),o=e instanceof r.HtmlView?e:null;return void 0===t?o:(t instanceof r.SvgView?null===o?(t=this.createIconView(t),this.appendChildView(t,"icon")):(o.removeAll(),o.append(t),t=o):null!==t?null===o?this.appendChildView(t,"icon"):this.setChildView("icon",t):null!==o&&o.remove(),this)},o.prototype.titleView=function(t){var e=this.getChildView("title"),o=e instanceof r.HtmlView?e:null;return void 0===t?o:("string"==typeof t?null===o?(t=this.createTitleView(t),this.appendChildView(t,"title")):(o.text(t),t=o):null!==t?null===o?this.appendChildView(t,"title"):this.setChildView("title",t):null!==o&&o.remove(),this)},o.prototype.onMount=function(){t.prototype.onMount.call(this),this.on("click",this.onClick)},o.prototype.onUnmount=function(){this.off("click",this.onClick),t.prototype.onUnmount.call(this)},o.prototype.onAnimate=function(e){t.prototype.onAnimate.call(this,e);var o=this.drawerStretch.value;"number"==typeof o&&this.titleView().display(0===o?"none":"block").opacity(o)},o.prototype.onLayout=function(e){t.prototype.onLayout.call(this,e);var o=this.edgeInsets.state;void 0!==o&&(this.paddingLeft.setAutoState(s.Length.px(Math.max(4,o.insetLeft))),this.paddingRight.setAutoState(s.Length.px(Math.max(4,o.insetRight))))},o.prototype.onInsertChildView=function(e,o){t.prototype.onInsertChildView.call(this,e,o);var i=e.key;"icon"===i&&e instanceof r.HtmlView?this.onInsertIcon(e):"title"===i&&e instanceof r.HtmlView&&this.onInsertTitle(e)},o.prototype.onRemoveChildView=function(e){var o=e.key;"icon"===o&&e instanceof r.HtmlView?this.onRemoveIcon(e):"title"===o&&e instanceof r.HtmlView&&this.onRemoveTitle(e),t.prototype.onRemoveChildView.call(this,e)},o.prototype.onInsertIcon=function(t){t.flexShrink(0).marginLeft(8).marginRight(8)},o.prototype.onRemoveIcon=function(t){},o.prototype.onInsertTitle=function(t){t.flexShrink(0).marginLeft(4).marginRight(4)},o.prototype.onRemoveTitle=function(t){},o.prototype.onStartHovering=function(){var t=this.hoverColor.value;void 0!==t&&this.backgroundColor.isAuto()&&(void 0===this.backgroundColor.value&&this.backgroundColor.setAutoState(t.alpha(0),!1),this.backgroundColor.setAutoState(t,this.tactileTransition))},o.prototype.onStopHovering=function(){var t=this.hoverColor.value;void 0!==t&&this.backgroundColor.isAuto()&&this.backgroundColor.setAutoState(t.alpha(0),this.tactileTransition)},o.prototype.highlight=function(t){if(!this._highlighted){this._highlighted=!0,!0===t&&(t=this.tactileTransition),this.backgroundColor.setAutoState(this.highlightCellColor.value.alpha(1),t);var e=this.iconView();if(null!==e){var o=e.getChildView("icon");o instanceof r.SvgView&&o.fill(this.highlightFillColor.value,t)}var i=this.titleView();null!==i&&i.color(this.highlightFillColor.value,t)}return this},o.prototype.unhighlight=function(t){if(this._highlighted){this._highlighted=!1,!0===t&&(t=this.tactileTransition),this.backgroundColor.setAutoState(this.highlightCellColor.value.alpha(0),t);var e=this.iconView();if(null!==e){var o=e.getChildView("icon");o instanceof r.SvgView&&o.fill(this.normalFillColor.value,t)}var i=this.titleView();null!==i&&i.color(this.normalFillColor.value,t)}return this},o.prototype.onClick=function(t){t.stopPropagation();var e=this.parentView;e instanceof U&&e.onPressItem(this)},x([r.MemberAnimator(Number,{inherit:!0})],o.prototype,"drawerStretch",void 0),x([r.MemberAnimator(e.Color)],o.prototype,"normalFillColor",void 0),x([r.MemberAnimator(e.Color)],o.prototype,"highlightFillColor",void 0),x([r.MemberAnimator(e.Color)],o.prototype,"highlightCellColor",void 0),x([r.MemberAnimator(e.Color)],o.prototype,"hoverColor",void 0),x([r.ViewScope({inherit:!0})],o.prototype,"edgeInsets",void 0),o}(T),q=function(t){function e(){var e=t.call(this)||this;return e._selectedItem=null,e}return k(e,t),Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this._selectedItem},enumerable:!1,configurable:!0}),e.prototype.selectItem=function(t){var e=this._selectedItem;e!==t&&(this.willSelectItem(t,e),this._selectedItem=t,this.onSelectItem(t,e),this.didSelectItem(t,e))},e.prototype.willSelectItem=function(t,e){},e.prototype.onSelectItem=function(t,e){null!==e&&e.unhighlight(!0),null!==t&&t.highlight(!1)},e.prototype.didSelectItem=function(t,e){},e.prototype.menuDidPressItem=function(t,e){this.selectItem(t)},e}(r.HtmlViewController);t.ActionButton=E,t.ActionItem=W,t.ActionStack=N,t.ActionStackController=B,t.ActionStackGestureController=j,t.AppView=M,t.AppViewController=R,t.DarkBase=d,t.DarkDisabled=f,t.DarkFloating=y,t.DarkPrimary=c,t.DarkSecondary=u,t.DarkTheme=w,t.DrawerButton=L,t.DrawerView=H,t.DrawerViewController=O,t.IlluminationView=I,t.LightBase=m,t.LightDisabled=b,t.LightFloating=S,t.LightPrimary=v,t.LightSecondary=g,t.LightTheme=C,t.MenuItem=F,t.MenuList=U,t.MenuListController=q,t.PopoverView=A,t.PopoverViewController=D,t.ScrimView=V,t.TactileView=T,t.Theme=P,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=swim-ux.min.js.map