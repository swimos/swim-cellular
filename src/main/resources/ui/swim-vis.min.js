// swim-vis-3.11.0-dev.20200517; copyright 2015-2020 SWIM.AI inc.
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@swim/math"),require("@swim/angle"),require("@swim/length"),require("@swim/color"),require("@swim/font"),require("@swim/view"),require("@swim/typeset"),require("@swim/render"),require("@swim/shape"),require("@swim/collections"),require("@swim/time"),require("@swim/scale"),require("@swim/interpolate"),require("@swim/transition"),require("@swim/style"),require("@swim/util"),require("@swim/gesture")):"function"==typeof define&&define.amd?define(["exports","@swim/math","@swim/angle","@swim/length","@swim/color","@swim/font","@swim/view","@swim/typeset","@swim/render","@swim/shape","@swim/collections","@swim/time","@swim/scale","@swim/interpolate","@swim/transition","@swim/style","@swim/util","@swim/gesture"],e):e((t=t||self).swim=t.swim||{},t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim,t.swim)}(this,(function(t,e,i,o,r,n,a,l,s,u,h,d,c,p,v,m,f,y){"use strict";var g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function b(t,e){function i(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function x(t,e,i,o){var r,n=arguments.length,a=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(n<3?r(a):n>3?r(e,i,a):r(e,i))||a);return n>3&&a&&Object.defineProperty(e,i,a),a}var A,w=function(t){function h(){var e=t.call(this)||this;return e._arrangement="auto",e}return b(h,t),Object.defineProperty(h.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),h.prototype.label=function(t){return void 0===t?this.getChildView("label"):(null===t||t instanceof a.View||(t=l.TextRunView.fromAny(t)),this.setChildView("label",t),this)},h.prototype.legend=function(t){return void 0===t?this.getChildView("legend"):(null===t||t instanceof a.View||(t=l.TextRunView.fromAny(t)),this.setChildView("legend",t),this)},h.prototype.arrangement=function(t){return void 0===t?this._arrangement:(this._arrangement=t,this)},h.prototype.onRender=function(e){t.prototype.onRender.call(this,e);var i=e.renderer;if(i instanceof s.CanvasRenderer&&!this.isHidden()&&!this.isCulled()){var o=i.context;o.save(),this.renderDial(o,this.viewFrame),o.restore()}},h.prototype.renderDial=function(t,o){var r=o.width,n=o.height,l=Math.min(r,n),s=this.value.value,h=this.total.value,d=0!==h?s/h:0,c=this.center.value,p=this.innerRadius.value.px(l),v=this.outerRadius.value.px(l),m=v.value-p.value,f=this.startAngle.value.rad(),y=this.sweepAngle.value.rad(),g=this.cornerRadius.value.px(m),b=new u.Arc(c,p,v,f,y,i.Angle.zero(),null,g),x=b.sweepAngle(y.times(d));t.save(),t.beginPath(),t.fillStyle=this.dialColor.value.toString(),b.draw(t,o),t.fill(),t.clip(),t.beginPath(),t.fillStyle=this.meterColor.value.toString(),x.draw(t,o),t.fill(),t.restore();var A=this.label();if(a.RenderedView.is(A)&&!A.isHidden()){var w=(p.value+v.value)/2,_=w*Math.cos(f.value+1e-12),k=w*Math.sin(f.value+1e-12),M=void 0;M=_>=0?k>=0?"start":"end":k<0?"end":"start";var C=f.value-Math.PI/2,R=this.labelPadding.value.pxValue(m),T=R*Math.cos(C),L=R*Math.sin(C);a.TypesetView.is(A)&&(A.textAlign.setAutoState(M),A.textBaseline.setAutoState("middle"),A.textOrigin.setAutoState(new e.PointR2(c.x+_+T,c.y+k+L)))}var V=this.legend();if(a.RenderedView.is(V)&&!V.isHidden()){var P=this.tickAlign.value,D=f.value+y.value*d*P,S=this.tickRadius.value.pxValue(l),G=this.tickLength.value.pxValue(r),O=this.tickWidth.value.pxValue(l),j=this.tickColor.value,N=c.x,W=c.y,B=v.value*Math.cos(D+1e-12),I=v.value*Math.sin(D+1e-12),F=S*Math.cos(D+1e-12),q=S*Math.sin(D+1e-12);T=0;t.beginPath(),t.strokeStyle=j.toString(),t.lineWidth=O,t.moveTo(N+B,W+I),t.lineTo(N+F,W+q),0!==G&&(F>=0?(t.lineTo(N+G,W+q),T=G-F):F<0&&(t.lineTo(N-G,W+q),T=G+F)),t.stroke();M=void 0;if(F>=0?M="end":(T=-T,M="start"),a.TypesetView.is(V)){var U=this.tickPadding.value.pxValue(l);a.FillView.is(V)&&V.fill.setAutoState(j),V.textAlign.setAutoState(M),V.textBaseline.setAutoState("alphabetic"),V.textOrigin.setAutoState(new e.PointR2(N+F+T,W+q-U))}}},h.prototype.hitTest=function(e,i,o){var r=t.prototype.hitTest.call(this,e,i,o);if(null===r){var n=o.renderer;if(n instanceof s.CanvasRenderer){var a=n.context;a.save(),e*=n.pixelRatio,i*=n.pixelRatio,r=this.hitTestDial(e,i,a,this.viewFrame),a.restore()}}return r},h.prototype.hitTestDial=function(t,e,o,r){var n=Math.min(r.width,r.height),a=this.center.value,l=this.innerRadius.value.px(n),s=this.outerRadius.value.px(n),h=s.value-l.value,d=this.startAngle.value,c=this.sweepAngle.value,p=this.cornerRadius.value.px(h),v=new u.Arc(a,l,s,d,c,i.Angle.zero(),null,p);return o.beginPath(),v.draw(o,r),o.isPointInPath(t,e)?this:null},h.fromAny=function(t){if(t instanceof h)return t;if("object"==typeof t&&null!==t){var e=new h;return void 0!==t.value&&e.value(t.value),void 0!==t.total&&e.total(t.total),void 0!==t.center&&e.center(t.center),void 0!==t.innerRadius&&e.innerRadius(t.innerRadius),void 0!==t.outerRadius&&e.outerRadius(t.outerRadius),void 0!==t.startAngle&&e.startAngle(t.startAngle),void 0!==t.sweepAngle&&e.sweepAngle(t.sweepAngle),void 0!==t.cornerRadius&&e.cornerRadius(t.cornerRadius),void 0!==t.dialColor&&e.dialColor(t.dialColor),void 0!==t.meterColor&&e.meterColor(t.meterColor),void 0!==t.labelPadding&&e.labelPadding(t.labelPadding),void 0!==t.tickAlign&&e.tickAlign(t.tickAlign),void 0!==t.tickRadius&&e.tickRadius(t.tickRadius),void 0!==t.tickLength&&e.tickLength(t.tickLength),void 0!==t.tickWidth&&e.tickWidth(t.tickWidth),void 0!==t.tickPadding&&e.tickPadding(t.tickPadding),void 0!==t.tickColor&&e.tickColor(t.tickColor),void 0!==t.font&&e.font(t.font),void 0!==t.textColor&&e.textColor(t.textColor),void 0!==t.arrangement&&e.arrangement(t.arrangement),void 0!==t.label&&e.label(t.label),void 0!==t.legend&&e.legend(t.legend),void 0!==t.hidden&&e.setHidden(t.hidden),void 0!==t.culled&&e.setCulled(t.culled),e}throw new TypeError(""+t)},x([a.MemberAnimator(Number,{value:0})],h.prototype,"value",void 0),x([a.MemberAnimator(Number,{value:1})],h.prototype,"total",void 0),x([a.MemberAnimator(e.PointR2,{inherit:!0})],h.prototype,"center",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"innerRadius",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"outerRadius",void 0),x([a.MemberAnimator(i.Angle,{inherit:!0})],h.prototype,"startAngle",void 0),x([a.MemberAnimator(i.Angle,{inherit:!0})],h.prototype,"sweepAngle",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"cornerRadius",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],h.prototype,"dialColor",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],h.prototype,"meterColor",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"labelPadding",void 0),x([a.MemberAnimator(Number,{inherit:!0})],h.prototype,"tickAlign",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"tickRadius",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"tickLength",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"tickWidth",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"tickPadding",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],h.prototype,"tickColor",void 0),x([a.MemberAnimator(n.Font,{inherit:!0})],h.prototype,"font",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],h.prototype,"textColor",void 0),h}(a.GraphicsView),_=function(t){function s(){return null!==t&&t.apply(this,arguments)||this}return b(s,t),Object.defineProperty(s.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),s.prototype.title=function(t){return void 0===t?this.getChildView("title"):(null===t||t instanceof a.View||(t=l.TextRunView.fromAny(t)),this.setChildView("title",t),this)},s.prototype.addDial=function(t){t=w.fromAny(t),this.appendChildView(t)},s.prototype.modifyUpdate=function(e){var i=0;return 0!=(e&a.View.NeedsAnimate)&&(i|=a.View.NeedsLayout),i|=t.prototype.modifyUpdate.call(this,e|i)},s.prototype.onLayout=function(e){t.prototype.onLayout.call(this,e),this.layoutGauge(this.viewFrame)},s.prototype.layoutGauge=function(t){var i=this._childViews,r=i.length;if(this.center.isAuto()){var n=(t.xMin+t.xMax)/2,l=(t.yMin+t.yMax)/2;this.center.setAutoState(new e.PointR2(n,l))}var s,u,h,d,c=this.limit.value,p=this.innerRadius.value,v=this.outerRadius.value,m=this.startAngle.value,f=this.sweepAngle.value,y=this.dialSpacing.value;if(void 0!==p&&void 0!==v){for(var g=0,b=0;b<r;b+=1){(A=i[b])instanceof w&&"auto"===A._arrangement&&(g+=1)}var x=Math.min(t.width,t.height);s=p.pxValue(x),u=v.pxValue(x),h=void 0!==y?y.pxValue(x):0,d=g>1?(u-s-h*(g-1))/g:u-s}for(b=0;b<r;b+=1){var A;if((A=i[b])instanceof w&&"auto"===A._arrangement){if(void 0!==c&&isFinite(c)){var _=A.total.value;void 0!==_&&A.total.setAutoState(Math.max(_,c))}void 0!==p&&void 0!==v&&(A.innerRadius.setAutoState(o.Length.px(s)),A.outerRadius.setAutoState(o.Length.px(s+d)),s=s+d+h),void 0!==m&&A.startAngle.setAutoState(m),void 0!==f&&A.sweepAngle.setAutoState(f)}}var k=this.title();a.TypesetView.is(k)&&(k.textAlign.setAutoState("center"),k.textBaseline.setAutoState("middle"),k.textOrigin.setAutoState(this.center.state))},s.fromAny=function(t){if(t instanceof s)return t;if("object"==typeof t&&null!==t){var e=new s;void 0!==t.limit&&e.limit(t.limit),void 0!==t.innerRadius&&e.innerRadius(t.innerRadius),void 0!==t.outerRadius&&e.outerRadius(t.outerRadius),void 0!==t.startAngle&&e.startAngle(t.startAngle),void 0!==t.sweepAngle&&e.sweepAngle(t.sweepAngle),void 0!==t.cornerRadius&&e.cornerRadius(t.cornerRadius),void 0!==t.dialSpacing&&e.dialSpacing(t.dialSpacing),void 0!==t.dialColor&&e.dialColor(t.dialColor),void 0!==t.meterColor&&e.meterColor(t.meterColor),void 0!==t.labelPadding&&e.labelPadding(t.labelPadding),void 0!==t.tickAlign&&e.tickAlign(t.tickAlign),void 0!==t.tickRadius&&e.tickRadius(t.tickRadius),void 0!==t.tickLength&&e.tickLength(t.tickLength),void 0!==t.tickWidth&&e.tickWidth(t.tickWidth),void 0!==t.tickPadding&&e.tickPadding(t.tickPadding),void 0!==t.tickColor&&e.tickColor(t.tickColor),void 0!==t.font&&e.font(t.font),void 0!==t.textColor&&e.textColor(t.textColor),void 0!==t.title&&e.title(t.title);var i=t.dials;if(void 0!==i)for(var o=0,r=i.length;o<r;o+=1)e.addDial(i[o]);return void 0!==t.hidden&&e.setHidden(t.hidden),void 0!==t.culled&&e.setCulled(t.culled),e}throw new TypeError(""+t)},x([a.MemberAnimator(Number,{value:0})],s.prototype,"limit",void 0),x([a.MemberAnimator(e.PointR2,{value:e.PointR2.origin()})],s.prototype,"center",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.pct(30)})],s.prototype,"innerRadius",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.pct(40)})],s.prototype,"outerRadius",void 0),x([a.MemberAnimator(i.Angle,{value:i.Angle.rad(-Math.PI/2)})],s.prototype,"startAngle",void 0),x([a.MemberAnimator(i.Angle,{value:i.Angle.rad(2*Math.PI)})],s.prototype,"sweepAngle",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.pct(50)})],s.prototype,"cornerRadius",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.px(1)})],s.prototype,"dialSpacing",void 0),x([a.MemberAnimator(r.Color,{value:r.Color.transparent()})],s.prototype,"dialColor",void 0),x([a.MemberAnimator(r.Color,{value:r.Color.black()})],s.prototype,"meterColor",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.pct(25)})],s.prototype,"labelPadding",void 0),x([a.MemberAnimator(Number,{value:.5})],s.prototype,"tickAlign",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.pct(45)})],s.prototype,"tickRadius",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.pct(50)})],s.prototype,"tickLength",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.px(1)})],s.prototype,"tickWidth",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.px(1)})],s.prototype,"tickPadding",void 0),x([a.MemberAnimator(r.Color,{value:r.Color.black()})],s.prototype,"tickColor",void 0),x([a.MemberAnimator(n.Font,{inherit:!0})],s.prototype,"font",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],s.prototype,"textColor",void 0),s}(a.GraphicsView),k=function(t){function h(){return null!==t&&t.apply(this,arguments)||this}return b(h,t),Object.defineProperty(h.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),h.prototype.label=function(t){return void 0===t?this.getChildView("label"):(null===t||t instanceof a.View||(t=l.TextRunView.fromAny(t)),this.setChildView("label",t),this)},h.prototype.legend=function(t){return void 0===t?this.getChildView("legend"):(null===t||t instanceof a.View||(t=l.TextRunView.fromAny(t)),this.setChildView("legend",t),this)},h.prototype.onRender=function(e){t.prototype.onRender.call(this,e);var i=e.renderer;if(i instanceof s.CanvasRenderer&&!this.isHidden()&&!this.isCulled()){var o=i.context;o.save(),this.renderSlice(o,this.viewFrame),o.restore()}},h.prototype.renderSlice=function(t,o){var r=o.width,n=o.height,l=Math.min(r,n),s=this.value.value,h=this.total.value,d=0!==h?s/h:0,c=this.center.value,p=this.innerRadius.value.px(l),v=this.outerRadius.value.px(l),m=v.value-p.value,f=this.phaseAngle.value.rad(),y=i.Angle.rad(2*Math.PI*d),g=this.padAngle.value,b=this.padRadius.value,x=this.cornerRadius.value.px(m),A=new u.Arc(c,p,v,f,y,g,b,x);t.beginPath(),t.fillStyle=this.sliceColor.value.toString(),A.draw(t,o),t.fill();var w=this.label();if(a.RenderedView.is(w)&&!w.isHidden()){var _=this.labelRadius.value.pxValue(m),k=f.value+y.value/2,M=p.value+_,C=M*Math.cos(k),R=M*Math.sin(k);a.TypesetView.is(w)&&(w.textAlign.setAutoState("center"),w.textBaseline.setAutoState("middle"),w.textOrigin.setAutoState(new e.PointR2(c.x+C,c.y+R)))}var T=this.legend();if(a.RenderedView.is(T)&&!T.isHidden()){var L=this.tickAlign.value,V=f.value+y.value*L,P=this.tickRadius.value.pxValue(l),D=this.tickLength.value.pxValue(r),S=this.tickWidth.value.pxValue(l),G=this.tickColor.value,O=c.x,j=c.y,N=v.value*Math.cos(V+1e-12),W=v.value*Math.sin(V+1e-12),B=P*Math.cos(V+1e-12),I=P*Math.sin(V+1e-12),F=0;t.beginPath(),t.strokeStyle=G.toString(),t.lineWidth=S,t.moveTo(O+N,j+W),t.lineTo(O+B,j+I),0!==D&&(B>=0?(t.lineTo(O+D,j+I),F=D-B):B<0&&(t.lineTo(O-D,j+I),F=D+B)),t.stroke();var q=void 0;if(B>=0?q="end":(F=-F,q="start"),a.TypesetView.is(T)){var U=this.tickPadding.value.pxValue(l);a.FillView.is(T)&&T.fill.setAutoState(G),T.textAlign.setAutoState(q),T.textBaseline.setAutoState("alphabetic"),T.textOrigin.setAutoState(new e.PointR2(O+B+F,j+I-U))}}},h.prototype.hitTest=function(e,i,o){var r=t.prototype.hitTest.call(this,e,i,o);if(null===r){var n=o.renderer;if(n instanceof s.CanvasRenderer){var a=n.context;a.save(),e*=n.pixelRatio,i*=n.pixelRatio,r=this.hitTestSlice(e,i,a,this.viewFrame),a.restore()}}return r},h.prototype.hitTestSlice=function(t,e,o,r){var n=Math.min(r.width,r.height),a=this.value.value,l=this.total.value,s=0!==l?a/l:0,h=this.center.value,d=this.innerRadius.value.px(n),c=this.outerRadius.value.px(n),p=c.value-d.value,v=this.phaseAngle.value.rad(),m=i.Angle.rad(2*Math.PI*s),f=this.padAngle.value,y=this.padRadius.value,g=this.cornerRadius.value.px(p),b=new u.Arc(h,d,c,v,m,f,y,g);return o.beginPath(),b.draw(o,r),o.isPointInPath(t,e)?this:null},h.fromAny=function(t){if(t instanceof h)return t;if("object"==typeof t&&null!==t){var e=new h;return void 0!==t.value&&e.value(t.value),void 0!==t.total&&e.total(t.total),void 0!==t.center&&e.center(t.center),void 0!==t.innerRadius&&e.innerRadius(t.innerRadius),void 0!==t.outerRadius&&e.outerRadius(t.outerRadius),void 0!==t.phaseAngle&&e.phaseAngle(t.phaseAngle),void 0!==t.padAngle&&e.padAngle(t.padAngle),void 0!==t.padRadius&&e.padRadius(t.padRadius),void 0!==t.cornerRadius&&e.cornerRadius(t.cornerRadius),void 0!==t.labelRadius&&e.labelRadius(t.labelRadius),void 0!==t.sliceColor&&e.sliceColor(t.sliceColor),void 0!==t.tickAlign&&e.tickAlign(t.tickAlign),void 0!==t.tickRadius&&e.tickRadius(t.tickRadius),void 0!==t.tickLength&&e.tickLength(t.tickLength),void 0!==t.tickWidth&&e.tickWidth(t.tickWidth),void 0!==t.tickPadding&&e.tickPadding(t.tickPadding),void 0!==t.tickColor&&e.tickColor(t.tickColor),void 0!==t.font&&e.font(t.font),void 0!==t.textColor&&e.textColor(t.textColor),void 0!==t.label&&e.label(t.label),void 0!==t.legend&&e.legend(t.legend),void 0!==t.hidden&&e.setHidden(t.hidden),void 0!==t.culled&&e.setCulled(t.culled),e}throw new TypeError(""+t)},x([a.MemberAnimator(Number,{value:0})],h.prototype,"value",void 0),x([a.MemberAnimator(Number,{value:1})],h.prototype,"total",void 0),x([a.MemberAnimator(e.PointR2,{inherit:!0})],h.prototype,"center",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"innerRadius",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"outerRadius",void 0),x([a.MemberAnimator(i.Angle,{value:i.Angle.zero()})],h.prototype,"phaseAngle",void 0),x([a.MemberAnimator(i.Angle,{inherit:!0})],h.prototype,"padAngle",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"padRadius",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"cornerRadius",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"labelRadius",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],h.prototype,"sliceColor",void 0),x([a.MemberAnimator(Number,{inherit:!0})],h.prototype,"tickAlign",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"tickRadius",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"tickLength",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"tickWidth",void 0),x([a.MemberAnimator(o.Length,{inherit:!0})],h.prototype,"tickPadding",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],h.prototype,"tickColor",void 0),x([a.MemberAnimator(n.Font,{inherit:!0})],h.prototype,"font",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],h.prototype,"textColor",void 0),h}(a.GraphicsView),M=function(t){function s(){return null!==t&&t.apply(this,arguments)||this}return b(s,t),Object.defineProperty(s.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),s.prototype.title=function(t){return void 0===t?this.getChildView("title"):(null===t||t instanceof a.View||(t=l.TextRunView.fromAny(t)),this.setChildView("title",t),this)},s.prototype.addSlice=function(t){t=k.fromAny(t),this.appendChildView(t)},s.prototype.modifyUpdate=function(e){var i=0;return 0!=(e&a.View.NeedsAnimate)&&(i|=a.View.NeedsLayout),i|=t.prototype.modifyUpdate.call(this,e|i)},s.prototype.onLayout=function(e){t.prototype.onLayout.call(this,e),this.layoutPie(this.viewFrame)},s.prototype.layoutPie=function(t){var o=this._childViews,r=o.length;if(this.center.isAuto()){var n=(t.xMin+t.xMax)/2,l=(t.yMin+t.yMax)/2;this.center.setAutoState(new e.PointR2(n,l))}for(var s=0,u=0;u<r;u+=1){if((c=o[u])instanceof k){var h=c.value.value;isFinite(h)&&(s+=h)}}s=Math.max(s,this.limit.value);var d=this.baseAngle.value.rad();for(u=0;u<r;u+=1){var c;if((c=o[u])instanceof k){c.total.setAutoState(s),c.phaseAngle.setAutoState(d);h=c.value.value;if(isFinite(h)){var p=0!==s?h/s:0;d=i.Angle.rad(d.value+2*Math.PI*p)}}}var v=this.title();a.TypesetView.is(v)&&(v.textAlign.setAutoState("center"),v.textBaseline.setAutoState("middle"),v.textOrigin.setAutoState(this.center.state))},s.fromAny=function(t){if(t instanceof s)return t;if("object"==typeof t&&null!==t){var e=new s;void 0!==t.limit&&e.limit(t.limit),void 0!==t.center&&e.center(t.center),void 0!==t.baseAngle&&e.baseAngle(t.baseAngle),void 0!==t.innerRadius&&e.innerRadius(t.innerRadius),void 0!==t.outerRadius&&e.outerRadius(t.outerRadius),void 0!==t.padAngle&&e.padAngle(t.padAngle),void 0!==t.padRadius&&e.padRadius(t.padRadius),void 0!==t.cornerRadius&&e.cornerRadius(t.cornerRadius),void 0!==t.labelRadius&&e.labelRadius(t.labelRadius),void 0!==t.sliceColor&&e.sliceColor(t.sliceColor),void 0!==t.tickAlign&&e.tickAlign(t.tickAlign),void 0!==t.tickRadius&&e.tickRadius(t.tickRadius),void 0!==t.tickLength&&e.tickLength(t.tickLength),void 0!==t.tickWidth&&e.tickWidth(t.tickWidth),void 0!==t.tickPadding&&e.tickPadding(t.tickPadding),void 0!==t.tickColor&&e.tickColor(t.tickColor),void 0!==t.font&&e.font(t.font),void 0!==t.textColor&&e.textColor(t.textColor),void 0!==t.title&&e.title(t.title);var i=t.slices;if(void 0!==i)for(var o=0,r=i.length;o<r;o+=1)e.addSlice(i[o]);return void 0!==t.hidden&&e.setHidden(t.hidden),void 0!==t.culled&&e.setCulled(t.culled),e}throw new TypeError(""+t)},x([a.MemberAnimator(Number,{value:0})],s.prototype,"limit",void 0),x([a.MemberAnimator(e.PointR2,{value:e.PointR2.origin()})],s.prototype,"center",void 0),x([a.MemberAnimator(i.Angle,{value:i.Angle.rad(-Math.PI/2)})],s.prototype,"baseAngle",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.pct(3)})],s.prototype,"innerRadius",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.pct(25)})],s.prototype,"outerRadius",void 0),x([a.MemberAnimator(i.Angle,{value:i.Angle.deg(2)})],s.prototype,"padAngle",void 0),x([a.MemberAnimator(o.Length,{value:null})],s.prototype,"padRadius",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.zero()})],s.prototype,"cornerRadius",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.pct(50)})],s.prototype,"labelRadius",void 0),x([a.MemberAnimator(r.Color,{value:r.Color.black()})],s.prototype,"sliceColor",void 0),x([a.MemberAnimator(Number,{value:.5})],s.prototype,"tickAlign",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.pct(30)})],s.prototype,"tickRadius",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.pct(50)})],s.prototype,"tickLength",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.px(1)})],s.prototype,"tickWidth",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.px(1)})],s.prototype,"tickPadding",void 0),x([a.MemberAnimator(r.Color,{value:r.Color.black()})],s.prototype,"tickColor",void 0),x([a.MemberAnimator(n.Font,{inherit:!0})],s.prototype,"font",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],s.prototype,"textColor",void 0),s}(a.GraphicsView);(A=t.TickState||(t.TickState={}))[A.Excluded=0]="Excluded",A[A.Entering=1]="Entering",A[A.Included=2]="Included",A[A.Leaving=3]="Leaving";var C=function(t){function i(e){var o=t.call(this)||this;return o._value=e,o._coord=0,o._coord0=NaN,o._state=0,o._preserve=!0,o.opacity.interpolate=i.interpolateOpacity,o}return b(i,t),Object.defineProperty(i.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"coord",{get:function(){return this._coord},enumerable:!1,configurable:!0}),i.prototype.setCoord=function(t){this._coord=t},i.prototype.tickLabel=function(t){return void 0===t?this.getChildView("tickLabel"):(null===t||t instanceof a.View||(t=l.TextRunView.fromAny(t)),this.setChildView("tickLabel",t),this)},i.prototype.preserve=function(t){return void 0===t?this._preserve:(this._preserve=t,this)},i.prototype.fadeIn=function(t){0!==this._state&&3!==this._state||(this.opacity.setState(1,t),this._state=1)},i.prototype.fadeOut=function(t){1!==this._state&&2!==this._state||(this.opacity.setState(0,t),this._state=3)},i.prototype.modifyUpdate=function(e){var i=0;return 0!=(e&a.View.NeedsAnimate)&&(i|=a.View.NeedsLayout),i|=t.prototype.modifyUpdate.call(this,e|i)},i.prototype.onLayout=function(e){t.prototype.onLayout.call(this,e);var i=this.tickLabel();a.RenderedView.is(i)&&this.layoutTickLabel(i,this.viewFrame)},i.prototype.willRender=function(e){t.prototype.willRender.call(this,e);var i=e.renderer;i instanceof s.CanvasRenderer&&i.context.save()},i.prototype.onRender=function(t){var e=t.renderer;if(e instanceof s.CanvasRenderer&&!this.isHidden()&&!this.isCulled()){var i=e.context;i.globalAlpha=this.opacity.value,this.renderTick(i,this.viewFrame)}},i.prototype.didRender=function(e){var i=e.renderer;i instanceof s.CanvasRenderer&&i.context.restore();t.prototype.didRender.call(this,e)},i.top=function(t){return new i.Top(t)},i.right=function(t){return new i.Right(t)},i.bottom=function(t){return new i.Bottom(t)},i.left=function(t){return new i.Left(t)},i.from=function(t,e){if("top"===t)return i.top(e);if("right"===t)return i.right(e);if("bottom"===t)return i.bottom(e);if("left"===t)return i.left(e);throw new TypeError(t)},i.fromAny=function(t,e){if(t instanceof i)return t;if("object"==typeof t&&null!==t){if(void 0!==t.orientation&&(e=t.orientation),void 0===e)throw new TypeError;var o=i.from(e,t.value);return void 0!==t.tickMarkColor&&o.tickMarkColor(t.tickMarkColor),void 0!==t.tickMarkWidth&&o.tickMarkWidth(t.tickMarkWidth),void 0!==t.tickMarkLength&&o.tickMarkLength(t.tickMarkLength),void 0!==t.tickLabelPadding&&o.tickLabelPadding(t.tickLabelPadding),void 0!==t.gridLineColor&&o.gridLineColor(t.gridLineColor),void 0!==t.gridLineWidth&&o.gridLineWidth(t.gridLineWidth),void 0!==t.font&&o.font(t.font),void 0!==t.textColor&&o.textColor(t.textColor),void 0!==t.tickLabel&&o.tickLabel(t.tickLabel),void 0!==t.hidden&&o.setHidden(t.hidden),void 0!==t.culled&&o.setCulled(t.culled),o}throw new TypeError(""+t)},i.interpolateOpacity=function(t){var e=this._view,i=e._coord;isNaN(e._coord0)&&(e._coord0=i);var o=e._parentView._tickSpacing/2,r=Math.min(Math.abs(i-e._coord0)/o,1),n=this._interpolator.interpolate(Math.max(t,r));return 1!==t&&1!==r||(this._tweenState=3),0===n&&3===e._state?(e._state=0,e._coord0=NaN,e.remove()):1===n&&1===e._state&&(e._state=2,e._coord0=NaN),n},x([a.MemberAnimator(e.PointR2,{value:e.PointR2.origin()})],i.prototype,"origin",void 0),x([a.MemberAnimator(Number,{value:1})],i.prototype,"opacity",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],i.prototype,"tickMarkColor",void 0),x([a.MemberAnimator(Number,{inherit:!0})],i.prototype,"tickMarkWidth",void 0),x([a.MemberAnimator(Number,{inherit:!0})],i.prototype,"tickMarkLength",void 0),x([a.MemberAnimator(Number,{inherit:!0})],i.prototype,"tickLabelPadding",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],i.prototype,"gridLineColor",void 0),x([a.MemberAnimator(Number,{inherit:!0})],i.prototype,"gridLineWidth",void 0),x([a.MemberAnimator(n.Font,{inherit:!0})],i.prototype,"font",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],i.prototype,"textColor",void 0),i}(a.GraphicsView),R=function(t){function i(e){return t.call(this,e)||this}return b(i,t),Object.defineProperty(i.prototype,"orientation",{get:function(){return"top"},enumerable:!1,configurable:!0}),i.prototype.layoutTickLabel=function(t,i){var o=this.origin.value,r=Math.round(o.x),n=Math.round(o.y)-this.tickMarkLength.value-this.tickLabelPadding.value;a.TypesetView.is(t)&&(t.textAlign.setAutoState("center"),t.textBaseline.setAutoState("bottom"),t.textOrigin.setAutoState(new e.PointR2(r,n)))},i.prototype.renderTick=function(t,e){var i=this.origin.value,o=Math.round(i.x),r=Math.round(i.y),n=r-this.tickMarkLength.value;t.beginPath(),t.strokeStyle=this.tickMarkColor.value.toString(),t.lineWidth=this.tickMarkWidth.value,t.moveTo(o,r),t.lineTo(o,n),t.stroke();var a=this.gridLineWidth.value;0!==a&&e.xMin<o&&o<e.xMax&&(t.beginPath(),t.strokeStyle=this.gridLineColor.value.toString(),t.lineWidth=a,t.moveTo(o,r),t.lineTo(o,e.yMax),t.stroke())},i}(C);C.Top=R;var T=function(t){function i(e){return t.call(this,e)||this}return b(i,t),Object.defineProperty(i.prototype,"orientation",{get:function(){return"right"},enumerable:!1,configurable:!0}),i.prototype.layoutTickLabel=function(t,i){var o=this.origin.value,r=Math.round(o.x),n=Math.round(o.y),l=r+this.tickMarkLength.value+this.tickLabelPadding.value;a.TypesetView.is(t)&&(t.textAlign.setAutoState("left"),t.textBaseline.setAutoState("middle"),t.textOrigin.setAutoState(new e.PointR2(l,n)))},i.prototype.renderTick=function(t,e){var i=this.origin.value,o=Math.round(i.x),r=Math.round(i.y),n=o+this.tickMarkLength.value;t.beginPath(),t.strokeStyle=this.tickMarkColor.value.toString(),t.lineWidth=this.tickMarkWidth.value,t.moveTo(o,r),t.lineTo(n,r),t.stroke();var a=this.gridLineWidth.value;0!==a&&e.yMin<r&&r<e.yMax&&(t.beginPath(),t.strokeStyle=this.gridLineColor.value.toString(),t.lineWidth=a,t.moveTo(o,r),t.lineTo(e.xMin,r),t.stroke())},i}(C);C.Right=T;var L=function(t){function i(e){return t.call(this,e)||this}return b(i,t),Object.defineProperty(i.prototype,"orientation",{get:function(){return"bottom"},enumerable:!1,configurable:!0}),i.prototype.layoutTickLabel=function(t,i){var o=this.origin.value,r=Math.round(o.x),n=Math.round(o.y)+this.tickMarkLength.value+this.tickLabelPadding.value;a.TypesetView.is(t)&&(t.textAlign.setAutoState("center"),t.textBaseline.setAutoState("top"),t.textOrigin.setAutoState(new e.PointR2(r,n)))},i.prototype.renderTick=function(t,e){var i=this.origin.value,o=Math.round(i.x),r=Math.round(i.y),n=r+this.tickMarkLength.value;t.beginPath(),t.strokeStyle=this.tickMarkColor.value.toString(),t.lineWidth=this.tickMarkWidth.value,t.moveTo(o,r),t.lineTo(o,n),t.stroke();var a=this.gridLineWidth.value;0!==a&&e.xMin<o&&o<e.xMax&&(t.beginPath(),t.strokeStyle=this.gridLineColor.value.toString(),t.lineWidth=a,t.moveTo(o,r),t.lineTo(o,e.yMin),t.stroke())},i}(C);C.Bottom=L;var V=function(t){function i(e){return t.call(this,e)||this}return b(i,t),Object.defineProperty(i.prototype,"orientation",{get:function(){return"left"},enumerable:!1,configurable:!0}),i.prototype.layoutTickLabel=function(t,i){var o=this.origin.value,r=Math.round(o.x),n=Math.round(o.y),l=r-this.tickMarkLength.value-this.tickLabelPadding.value;a.TypesetView.is(t)&&(t.textAlign.setAutoState("right"),t.textBaseline.setAutoState("middle"),t.textOrigin.setAutoState(new e.PointR2(l,n)))},i.prototype.renderTick=function(t,e){var i=this.origin.value,o=Math.round(i.x),r=Math.round(i.y),n=o-this.tickMarkLength.value;t.beginPath(),t.strokeStyle=this.tickMarkColor.value.toString(),t.lineWidth=this.tickMarkWidth.value,t.moveTo(o,r),t.lineTo(n,r),t.stroke();var a=this.gridLineWidth.value;0!==a&&e.yMin<r&&r<e.yMax&&(t.beginPath(),t.strokeStyle=this.gridLineColor.value.toString(),t.lineWidth=a,t.moveTo(o,r),t.lineTo(e.xMax,r),t.stroke())},i}(C);C.Left=V;var P=Math.sqrt(50),D=Math.sqrt(10),S=Math.sqrt(2),G=36e5,O=24*G,j=(new h.BTree).set(1e3,d.TimeInterval.second()).set(5e3,d.TimeInterval.second(5)).set(15e3,d.TimeInterval.second(15)).set(3e4,d.TimeInterval.second(30)).set(6e4,d.TimeInterval.minute(1)).set(3e5,d.TimeInterval.minute(5)).set(9e5,d.TimeInterval.minute(15)).set(18e5,d.TimeInterval.minute(30)).set(G,d.TimeInterval.hour()).set(3*G,d.TimeInterval.hour(3)).set(6*G,d.TimeInterval.hour(6)).set(12*G,d.TimeInterval.hour(12)).set(O,d.TimeInterval.day()).set(2*O,d.TimeInterval.day(2)).set(6048e5,d.TimeInterval.week()).set(2592e6,d.TimeInterval.month()).set(7776e6,d.TimeInterval.month(3)).set(31536e6,d.TimeInterval.year()),N=d.DateTimeFormat.pattern(".%L"),W=d.DateTimeFormat.pattern(":%S"),B=d.DateTimeFormat.pattern("%I:%M"),I=d.DateTimeFormat.pattern("%I %p"),F=d.DateTimeFormat.pattern("%a %d"),q=d.DateTimeFormat.pattern("%b %d"),U=d.DateTimeFormat.pattern("%B"),E=d.DateTimeFormat.pattern("%Y"),H=function(){function t(){}return t.prototype.format=function(t){return""+t},t.fromScale=function(t,e){if(void 0===e&&(e=10),t instanceof c.TimeScale){var i=t.domain();return new K(i[0],i[1],e)}i=t.domain();return new z(i[0],i[1],e)},t.step=function(t,e){var i=Math.abs(t)/e,o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/o;return r>=P?o*=10:r>=D?o*=5:r>=S&&(o*=2),t<0?-o:o},t}(),z=function(t){function e(e,i,o){var r=t.call(this)||this;return r.x0=e,r.dx=i-r.x0,r.n=Math.max(0,o),r}return b(e,t),e.prototype.count=function(t){return void 0===t?this.n:(this.n=Math.max(0,t),this)},e.prototype.domain=function(t,e){return void 0===t?[this.x0,this.x0+this.dx]:void 0===e?(this.x0=t[0],this.dx=t[1]-this.x0,this):(this.x0=t,this.dx=e-this.x0,this)},e.prototype.generate=function(){var t,i;this.dx<0?t=(i=this.x0)+this.dx:i=(t=this.x0)+this.dx;var o,r=e.interval(i-t,this.n);if(0===r||!isFinite(r))return[];if(r>0){t=Math.ceil(t/r),i=Math.floor(i/r);var n=Math.ceil(i-t+1);o=new Array(n);for(var a=0;a<n;a+=1)o[a]=(t+a)*r}else{t=Math.floor(t*r),i=Math.ceil(i*r);n=Math.ceil(t-i+1);o=new Array(n);for(a=0;a<n;a+=1)o[a]=(t-a)/r}return this.dx<0&&o.reverse(),o},e.interval=function(t,e){void 0===e&&(e=10);var i=t/e,o=Math.floor(Math.log(i)/Math.LN10),r=Math.pow(10,o),n=i/r,a=n>=P?10:n>=D?5:n>=S?2:1;return o>=0?r*a:-Math.pow(10,-o)/a},e}(H),K=function(t){function e(e,i,o,r){var n=t.call(this)||this;return e=d.DateTime.fromAny(e),i=d.DateTime.fromAny(i),n.t0=e.time(),n.dt=i.time()-n.t0,n.zone=r||e.zone(),n.n=Math.max(0,o),n}return b(e,t),e.prototype.count=function(t){return void 0===t?this.n:(this.n=Math.max(0,t),this)},e.prototype.domain=function(t,e){return void 0===t?[new d.DateTime(this.t0,this.zone),new d.DateTime(this.t0+this.dt,this.zone)]:(void 0===e?(e=t[1],t=t[0]):t=t,t=d.DateTime.fromAny(t),e=d.DateTime.fromAny(e),this.t0=t.time(),this.dt=e.time()-this.t0,this)},e.prototype.generate=function(t){var i,o;this.dt<0?i=(o=this.t0)+this.dt:o=(i=this.t0)+this.dt,void 0===t&&(t=this.n);var r=(t=e.interval(o-i,t)).range(new d.DateTime(i,this.zone),new d.DateTime(o+1,this.zone));return this.dt<0&&r.reverse(),r},e.prototype.format=function(t){return d.TimeInterval.second().floor(t)<t?N.format(t):d.TimeInterval.minute().floor(t)<t?W.format(t):d.TimeInterval.hour().floor(t)<t?B.format(t):d.TimeInterval.day().floor(t)<t?I.format(t):d.TimeInterval.month().floor(t)<t?d.TimeInterval.week().floor(t)<t?F.format(t):q.format(t):d.TimeInterval.year().floor(t)<t?U.format(t):E.format(t)},e.interval=function(t,e){if(void 0===e&&(e=10),"number"==typeof e){var i=Math.abs(t)/e,o=j.nextKey(i);if(void 0===o){var r=H.step(t/31536e6,e);e=d.TimeInterval.year(r)}else if(o>1e3)e=i/j.previousKey(i)<o/i?j.previousValue(i):j.nextValue(i);else{r=Math.max(1,H.step(t,e));e=d.TimeInterval.millisecond(r)}}return e},e}(H),Y=function(t){function i(e){var i=t.call(this)||this;return i._ticks=new h.BTree,i._tickGenerator=H.fromScale(e),i._tickSpacing=80,i._tickTransition=v.Transition.duration(200),i.scale.setAutoState(e),i}return b(i,t),Object.defineProperty(i.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),i.prototype.getTick=function(t){return this._ticks.get(t)},i.prototype.insertTick=function(t){t=C.fromAny(t,this.orientation),this.insertChildView(t,this._ticks.nextValue(t.value)||null)},i.prototype.removeTick=function(t){var e=this._ticks.get(t);void 0!==e&&(e.remove(),this._ticks.delete(t))},i.prototype.domain=function(t,e,i){var o=this.scale.value;return void 0===t?o.domain():(o=o.domain(t,e),this.scale.isAuto()&&!o.equals(this.scale.state)&&this.scale.setAutoState(o,i),this)},i.prototype.range=function(t,e,i){var o=this.scale.value;return void 0===t?o.range():(o=o.range(t,e),this.scale.isAuto()&&!o.equals(this.scale.state)&&this.scale.setAutoState(o,i),this)},i.prototype.tickGenerator=function(t){return void 0===t?this._tickGenerator:(this._tickGenerator=t,this)},i.prototype.tickSpacing=function(t){return void 0===t?this._tickSpacing:(this._tickSpacing=t,this)},i.prototype.tickTransition=function(t){return void 0===t?this._tickTransition:(null!==t&&(t=v.Transition.fromAny(t)),this._tickTransition=t,this)},i.prototype.modifyUpdate=function(e){var i=0;return 0!=(e&a.View.NeedsAnimate)&&(i|=a.View.NeedsLayout),i|=t.prototype.modifyUpdate.call(this,e|i)},i.prototype.willRender=function(e){t.prototype.willRender.call(this,e);var i=e.renderer;i instanceof s.CanvasRenderer&&i.context.save()},i.prototype.didRender=function(e){var i=e.renderer;if(i instanceof s.CanvasRenderer){var o=i.context;this.renderDomain(o,this.viewFrame),o.restore()}t.prototype.didRender.call(this,e)},i.prototype.onLayout=function(e){t.prototype.onLayout.call(this,e),null!==this._tickGenerator&&(this.generateTicks(this._tickGenerator),this.layoutTicks(this.viewFrame))},i.prototype.generateTicks=function(t){var e=this.scale.value;if(0!==this._tickSpacing){var i=e.range(),o=i[0],r=i[1],n=Math.abs(r-o),a=Math.max(1,Math.floor(n/this._tickSpacing));t.count(a)}t.domain(e.domain());var l=this._ticks.clone(),s=t.generate(),u=0;for(a=s.length;u<a;u+=1){var h=s[u],d=l.get(h);if(void 0!==d)l.delete(h),d.fadeIn(this._tickTransition||void 0);else{var c=this.createTickView(h);null!==c&&(this.insertTick(c),c.opacity._value=0,c.opacity._state=0,c.fadeIn(this._tickTransition||void 0))}}l.forEach((function(t,e){e._preserve||e.fadeOut(this._tickTransition||void 0)}),this)},i.prototype.createTickView=function(t){var e,i=this._viewController;if(null!==i&&(e=i.createTickView(t)),void 0===e&&(e=C.from(this.orientation,t)),null!==e){var o=this.createTickLabel(t,e);null!==o&&(e.tickLabel(o),e._preserve=!1)}return e},i.prototype.createTickLabel=function(t,e){var i,o=this._viewController;return null!==o&&(i=o.createTickLabel(t,e)),void 0===i&&(i=null!==this._tickGenerator?this._tickGenerator.format(t):""+t),"string"==typeof i&&(i=this.formatTickLabel(i,e)),i},i.prototype.formatTickLabel=function(t,e){var i=this._viewController;return null!==i?i.formatTickLabel(t,e):t},i.prototype.layoutTicks=function(t){for(var e=this._childViews,i=0,o=e.length;i<o;i+=1){var r=e[i];r instanceof C&&this.layoutTick(r,t)}},i.prototype.onInsertChildView=function(e,i){t.prototype.onInsertChildView.call(this,e,i),e instanceof C&&this._ticks.set(e.value,e)},i.prototype.onRemoveChildView=function(t){t instanceof C&&this._ticks.delete(t.value)},i.top=function(t){return t=i.scale(t),new i.Top(t)},i.right=function(t){return t=i.scale(t),new i.Right(t)},i.bottom=function(t){return t=i.scale(t),new i.Bottom(t)},i.left=function(t){return t=i.scale(t),new i.Left(t)},i.from=function(t,e){if("top"===t)return i.top(e);if("right"===t)return i.right(e);if("bottom"===t)return i.bottom(e);if("left"===t)return i.left(e);throw new TypeError(t)},i.fromAny=function(t){if(t instanceof i)return t;if("object"==typeof t&&null!==t){var e=i.from(t.orientation,t.scale),o=t.ticks,r=void 0!==t.tickGenerator?t.tickGenerator:void 0!==o?null:void 0;if(void 0!==r&&e.tickGenerator(r),void 0!==o)for(var n=0,a=o.length;n<a;n+=1)e.insertTick(o[n]);return void 0!==t.tickSpacing&&e.tickSpacing(t.tickSpacing),void 0!==t.tickTransition&&e.tickTransition(t.tickTransition),void 0!==t.domainColor&&e.domainColor(t.domainColor),void 0!==t.domainWidth&&e.domainWidth(t.domainWidth),void 0!==t.domainSerif&&e.domainSerif(t.domainSerif),void 0!==t.tickMarkColor&&e.tickMarkColor(t.tickMarkColor),void 0!==t.tickMarkWidth&&e.tickMarkWidth(t.tickMarkWidth),void 0!==t.tickMarkLength&&e.tickMarkLength(t.tickMarkLength),void 0!==t.tickLabelPadding&&e.tickLabelPadding(t.tickLabelPadding),void 0!==t.gridLineColor&&e.gridLineColor(t.gridLineColor),void 0!==t.gridLineWidth&&e.gridLineWidth(t.gridLineWidth),void 0!==t.font&&e.font(t.font),void 0!==t.textColor&&e.textColor(t.textColor),void 0!==t.hidden&&e.setHidden(t.hidden),void 0!==t.culled&&e.setCulled(t.culled),e}throw new TypeError(""+t)},i.scale=function(t){if(t instanceof c.ContinuousScale)return t;if("string"==typeof t){if("linear"===t)return new c.LinearScale(0,1,new p.NumberInterpolator(0,0));if("time"===t){var e=d.DateTime.current(),i=e.day(e.day()-1);return new c.TimeScale(i,e,new p.NumberInterpolator(0,0))}var o=t.split("..."),r=m.StyleValue.parse(o[0]),n=m.StyleValue.parse(o[1]);if("number"==typeof r&&"number"==typeof n)return new c.LinearScale(r,n,new p.NumberInterpolator(0,0));if(r instanceof d.DateTime&&n instanceof d.DateTime)return new c.TimeScale(r,n,new p.NumberInterpolator(0,0))}throw new TypeError(t)},x([a.MemberAnimator(Object)],i.prototype,"scale",void 0),x([a.MemberAnimator(e.PointR2,{value:e.PointR2.origin()})],i.prototype,"origin",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],i.prototype,"domainColor",void 0),x([a.MemberAnimator(Number,{inherit:!0})],i.prototype,"domainWidth",void 0),x([a.MemberAnimator(Number,{inherit:!0})],i.prototype,"domainSerif",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],i.prototype,"tickMarkColor",void 0),x([a.MemberAnimator(Number,{inherit:!0})],i.prototype,"tickMarkWidth",void 0),x([a.MemberAnimator(Number,{inherit:!0})],i.prototype,"tickMarkLength",void 0),x([a.MemberAnimator(Number,{inherit:!0})],i.prototype,"tickLabelPadding",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],i.prototype,"gridLineColor",void 0),x([a.MemberAnimator(Number,{inherit:!0})],i.prototype,"gridLineWidth",void 0),x([a.MemberAnimator(n.Font,{inherit:!0})],i.prototype,"font",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],i.prototype,"textColor",void 0),i}(a.GraphicsView),J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),Object.defineProperty(e.prototype,"orientation",{get:function(){var t=this._view;return null!==t?t.orientation:void 0},enumerable:!1,configurable:!0}),e.prototype.createTickView=function(t){},e.prototype.createTickLabel=function(t,e){},e.prototype.formatTickLabel=function(t,e){return t},e}(a.GraphicsViewController),Q=function(t){function i(e){return t.call(this,e)||this}return b(i,t),Object.defineProperty(i.prototype,"orientation",{get:function(){return"top"},enumerable:!1,configurable:!0}),i.prototype.renderDomain=function(t,e){var i=this.origin.value,o=i.x,r=i.y,n=this.scale.value.range(),a=n[0],l=n[1],s=this.domainSerif.value;t.beginPath(),t.strokeStyle=this.domainColor.value.toString(),t.lineWidth=this.domainWidth.value,0!==s?(t.moveTo(o+a,r-s),t.lineTo(o+a,r),t.lineTo(o+l,r),t.lineTo(o+l,r-s)):(t.moveTo(o+a,r),t.lineTo(o+l,r)),t.stroke()},i.prototype.layoutTick=function(t,i){var o=this.origin.value,r=this.scale.value.scale(t.value);t.origin.setAutoState(new e.PointR2(o.x+r,o.y)),t.setCoord(r)},i}(Y);Y.Top=Q;var X=function(t){function i(e){return t.call(this,e)||this}return b(i,t),Object.defineProperty(i.prototype,"orientation",{get:function(){return"right"},enumerable:!1,configurable:!0}),i.prototype.renderDomain=function(t,e){var i=this.origin.value,o=i.x,r=i.y,n=this.scale.value.range(),a=n[0],l=n[1],s=this.domainSerif.value;t.beginPath(),t.strokeStyle=this.domainColor.value.toString(),t.lineWidth=this.domainWidth.value,0!==s?(t.moveTo(o+s,r+a),t.lineTo(o,r+a),t.lineTo(o,r+l),t.lineTo(o+s,r+l)):(t.moveTo(o,r+a),t.lineTo(o,r+l)),t.stroke()},i.prototype.layoutTick=function(t,i){var o=this.origin.value,r=this.scale.value.scale(t.value);t.origin.setAutoState(new e.PointR2(o.x,o.y+r)),t.setCoord(r)},i}(Y);Y.Right=X;var Z=function(t){function i(e){return t.call(this,e)||this}return b(i,t),Object.defineProperty(i.prototype,"orientation",{get:function(){return"bottom"},enumerable:!1,configurable:!0}),i.prototype.renderDomain=function(t,e){var i=this.origin.value,o=i.x,r=i.y,n=this.scale.value.range(),a=n[0],l=n[1],s=this.domainSerif.value;t.beginPath(),t.strokeStyle=this.domainColor.value.toString(),t.lineWidth=this.domainWidth.value,0!==s?(t.moveTo(o+a,r+s),t.lineTo(o+a,r),t.lineTo(o+l,r),t.lineTo(o+l,r+s)):(t.moveTo(o+a,r),t.lineTo(o+l,r)),t.stroke()},i.prototype.layoutTick=function(t,i){var o=this.origin.value,r=this.scale.value.scale(t.value);t.origin.setAutoState(new e.PointR2(o.x+r,o.y)),t.setCoord(r)},i}(Y);Y.Bottom=Z;var $=function(t){function i(e){return t.call(this,e)||this}return b(i,t),Object.defineProperty(i.prototype,"orientation",{get:function(){return"left"},enumerable:!1,configurable:!0}),i.prototype.renderDomain=function(t,e){var i=this.origin.value,o=i.x,r=i.y,n=this.scale.value.range(),a=n[0],l=n[1],s=this.domainSerif.value;t.beginPath(),t.strokeStyle=this.domainColor.value.toString(),t.lineWidth=this.domainWidth.value,0!==s?(t.moveTo(o-s,r+a),t.lineTo(o,r+a),t.lineTo(o,r+l),t.lineTo(o-s,r+l)):(t.moveTo(o,r+a),t.lineTo(o,r+l)),t.stroke()},i.prototype.layoutTick=function(t,i){var o=this.origin.value,r=this.scale.value.scale(t.value);t.origin.setAutoState(new e.PointR2(o.x,o.y+r)),t.setCoord(r)},i}(Y);Y.Left=$;var tt=function(t){function i(e,i){var o=t.call(this)||this;return o._xCoord=NaN,o._yCoord=NaN,o.x.setAutoState(e),o.y.setAutoState(i),o}return b(i,t),Object.defineProperty(i.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"xCoord",{get:function(){return this._xCoord},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"yCoord",{get:function(){return this._yCoord},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y2Coord",{get:function(){return void 0!==this._y2Coord?this._y2Coord:null},enumerable:!1,configurable:!0}),i.prototype.hitRadius=function(t){return void 0===t?void 0!==this._hitRadius?this._hitRadius:5:(this._hitRadius=t,this)},i.prototype.category=function(t){return void 0===t?void 0!==this._category?this._category:null:(null!==t?this._category=t:void 0!==this._category&&(this._category=void 0),this)},i.prototype.label=function(t){return void 0===t?this.getChildView("label"):(null===t||t instanceof a.View||(t=l.TextRunView.fromAny(t)),this.setChildView("label",t),this)},i.prototype.labelPlacement=function(t){return void 0===t?void 0!==this._labelPlacement?this._labelPlacement:"auto":(this._labelPlacement=t,this)},i.prototype.setState=function(t,e){void 0!==t.y2&&this.y2(t.y2,e),void 0!==t.r&&this.r(t.r,e),void 0!==t.hitRadius&&this.hitRadius(t.hitRadius),void 0!==t.category&&this.category(t.category),void 0!==t.color&&this.color(t.color,e),void 0!==t.opacity&&this.opacity(t.opacity,e),void 0!==t.labelPadding&&this.labelPadding(t.labelPadding,e),void 0!==t.labelPlacement&&this.labelPlacement(t.labelPlacement),void 0!==t.font&&this.font(t.font,e),void 0!==t.textColor&&this.textColor(t.textColor,e),void 0!==t.label&&this.label(t.label),void 0!==t.hidden&&this.setHidden(t.hidden),void 0!==t.culled&&this.setCulled(t.culled)},i.prototype.isGradientStop=function(){return!!this.color.value||"number"==typeof this.opacity.value},i.prototype.modifyUpdate=function(e){var i=0;return 0!=(e&a.View.NeedsAnimate)&&(i|=a.View.NeedsLayout),i|=t.prototype.modifyUpdate.call(this,e|i)},i.prototype.onLayout=function(e){t.prototype.onLayout.call(this,e);var i=this.label();a.RenderedView.is(i)&&this.layoutLabel(i,this.viewFrame)},i.prototype.layoutLabel=function(t,i){var o=this._labelPlacement;if("above"!==o&&"below"!==o&&"middle"!==o){var r=this._category;o="increasing"===r||"maxima"===r?"above":"decreasing"===r||"minima"===r?"below":"above"}var n=this.labelPadding.value,l=void 0!==n?n.pxValue(Math.min(i.width,i.height)):0,s=this._xCoord,u=this._yCoord;"above"===o?u-=l:"below"===o&&(u+=l),a.TypesetView.is(t)&&(t.textAlign.setAutoState("center"),"above"===o?t.textBaseline.setAutoState("bottom"):"below"===o?t.textBaseline.setAutoState("top"):"middle"===o&&t.textBaseline.setAutoState("middle"),t.textOrigin.setAutoState(new e.PointR2(s,u)))},i.prototype.hitTest=function(e,i,o){var r=t.prototype.hitTest.call(this,e,i,o);if(null===r){var n=o.renderer;if(n instanceof s.CanvasRenderer){var a=n.context;r=this.hitTestDatum(e,i,a,this.viewFrame)}}return r},i.prototype.hitTestDatum=function(t,e,i,o){var r=this.hitRadius(),n=this.r.value;if(void 0!==n){var a=Math.min(o.width,o.height);r=Math.max(r,n.pxValue(a))}var l=this._xCoord-t,s=this._yCoord-e;return l*l+s*s<r*r?this:null},i.fromAny=function(t){if(t instanceof i)return t;if("object"==typeof t&&null!==t){var e=new i(t.x,t.y);return e.setState(t),e}throw new TypeError(""+t)},x([a.MemberAnimator(Object)],i.prototype,"x",void 0),x([a.MemberAnimator(Object)],i.prototype,"y",void 0),x([a.MemberAnimator(Object)],i.prototype,"y2",void 0),x([a.MemberAnimator(o.Length)],i.prototype,"r",void 0),x([a.MemberAnimator(r.Color)],i.prototype,"color",void 0),x([a.MemberAnimator(Number)],i.prototype,"opacity",void 0),x([a.MemberAnimator(o.Length)],i.prototype,"labelPadding",void 0),x([a.MemberAnimator(n.Font,{inherit:!0})],i.prototype,"font",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],i.prototype,"textColor",void 0),i}(a.GraphicsView),et=function(t){function i(){var e=t.call(this)||this;return e._xAxis=null,e._yAxis=null,e._xDomain=[null,null],e._xRange=[1/0,-1/0],e._yDomain=[null,null],e._yRange=[1/0,-1/0],e}return b(i,t),Object.defineProperty(i.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),i.prototype.xAxis=function(t){return void 0===t?this._xAxis:(this._xAxis=t,this)},i.prototype.yAxis=function(t){return void 0===t?this._yAxis:(this._yAxis=t,this)},i.prototype.xDomain=function(){return this._xDomain},i.prototype.xRange=function(){return this._xRange},i.prototype.yDomain=function(){return this._yDomain},i.prototype.yRange=function(){return this._yRange},i.prototype.modifyUpdate=function(e){var i=0;return 0!=(e&a.View.NeedsAnimate)&&(i|=a.View.NeedsLayout),i|=t.prototype.modifyUpdate.call(this,e|i)},i.prototype.onLayout=function(e){t.prototype.onLayout.call(this,e),null!==this._xAxis&&null!==this._yAxis&&this.layoutData(this._xAxis.scale.value,this._yAxis.scale.value,this.viewFrame)},i.prototype.layoutData=function(t,e,i){for(var o,r,n,l,s,u,h,d,c,p=this.origin.value,v=this._childViews,m=0,y=v.length;m<y;m+=1){var g=v[m];if(g instanceof tt){var b=g.x.value,x=g.y.value,A=t.scale(b),w=e.scale(x);g._xCoord=p.x+A,g._yCoord=p.y+w,void 0!==o?(f.Objects.compare(b,r)<0?r=b:f.Objects.compare(b,n)>0&&(n=b),A<l?l=A:A>s&&(s=A),f.Objects.compare(x,u)<0?u=x:f.Objects.compare(x,h)>0&&(h=x),w<d?d=w:w>c&&(c=w)):(r=b,n=b,l=A,s=A,u=x,h=x,d=w,c=w),o=g}}if(void 0!==o){var _=!1;this._xDomain[0]!==r&&(this._xDomain[0]=r,_=!0),this._xDomain[1]!==n&&(this._xDomain[1]=n,_=!0),this._xRange[0]!==l&&(this._xRange[0]=l,_=!0),this._xRange[1]!==s&&(this._xRange[1]=s,_=!0),this._yDomain[0]!==u&&(this._yDomain[0]=u,_=!0),this._yDomain[1]!==h&&(this._yDomain[1]=h,_=!0),this._yRange[0]!==d&&(this._yRange[0]=d,_=!0),this._yRange[1]!==c&&(this._yRange[1]=c,_=!0),_&&this.requireUpdate(a.View.NeedsLayout)}},i.prototype.willRender=function(e){t.prototype.willRender.call(this,e);var i=e.renderer;if(i instanceof s.CanvasRenderer){var o=i.context;o.save(),this.clipPlot(o,this.viewFrame)}},i.prototype.onRender=function(e){t.prototype.onRender.call(this,e);var i=e.renderer;if(i instanceof s.CanvasRenderer&&!this.isHidden()&&!this.isCulled()){var o=i.context;this.renderPlot(o,this.viewFrame)}},i.prototype.didRender=function(e){var i=e.renderer;i instanceof s.CanvasRenderer&&i.context.restore();t.prototype.didRender.call(this,e)},i.prototype.clipPlot=function(t,e){t.beginPath(),t.rect(e.x,e.y,e.width,e.height),t.clip()},i.fromAny=function(t){if(t instanceof i)return t;if("string"==typeof t){if("bubble"===t)return new i.Bubble;if("line"===t)return new i.Line;if("area"===t)return new i.Area}else if("object"==typeof t&&null!==t){var e=t.type;if("bubble"===e)return i.Bubble.fromAny(t);if("line"===e)return i.Line.fromAny(t);if("area"===e)return i.Area.fromAny(t)}throw new TypeError(""+t)},x([a.MemberAnimator(e.PointR2,{value:e.PointR2.origin()})],i.prototype,"origin",void 0),x([a.MemberAnimator(n.Font,{inherit:!0})],i.prototype,"font",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],i.prototype,"textColor",void 0),i}(a.GraphicsView),it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),Object.defineProperty(e.prototype,"type",{get:function(){var t=this._view;return null!==t?t.type:void 0},enumerable:!1,configurable:!0}),e.prototype.xAxis=function(){var t=this._view;return null!==t?t.xAxis():null},e.prototype.yAxis=function(){var t=this._view;return null!==t?t.yAxis():null},e}(a.GraphicsViewController),ot=function(t){function e(){var e=t.call(this)||this;return e.radius.setState(o.Length.px(5)),e.fill.setState(r.Color.black()),e}return b(e,t),Object.defineProperty(e.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return"bubble"},enumerable:!1,configurable:!0}),e.prototype.getDatum=function(t){var e=this.getChildView(t);return e instanceof tt?e:void 0},e.prototype.insertDatum=function(t,e){return t=tt.fromAny(t),this.appendChildView(t,e),t},e.prototype.insertData=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,o=arguments.length;i<o;i+=1)this.insertDatum(arguments[i])},e.prototype.removeDatum=function(t){var e=this.getChildView(t);return e instanceof tt?(e.remove(),e):null},e.prototype.renderPlot=function(t,e){for(var i=Math.min(e.width,e.height),o=this.radius.value,r=this.fill.value,n=this.stroke.value,a=this.strokeWidth.value,l=this._childViews,s=0,u=l.length;s<u;s+=1){var h=l[s];if(h instanceof tt){t.beginPath();var d=h.r.value||o;t.arc(h.xCoord,h.yCoord,d.pxValue(i),0,2*Math.PI);var c=h.color.value||r;if(void 0!==c){var p=h.opacity.value;"number"==typeof p&&(c=c.alpha(p)),t.fillStyle=c.toString(),t.fill()}void 0!==n&&(void 0!==a&&(t.lineWidth=a.pxValue(i)),t.strokeStyle=n.toString(),t.stroke())}}},e.fromAny=function(t){if(t instanceof e)return t;if(t instanceof et);else if("object"==typeof t&&null!==t){t=t;var i=new e;void 0!==t.xAxis&&i.xAxis(t.xAxis),void 0!==t.yAxis&&i.yAxis(t.yAxis);var o=t.data;if(void 0!==o)for(var r=0,n=o.length;r<n;r+=1)i.insertDatum(o[r]);return void 0!==t.radius&&i.radius(t.radius),void 0!==t.fill&&i.fill(t.fill),void 0!==t.stroke&&i.stroke(t.stroke),void 0!==t.strokeWidth&&i.strokeWidth(t.strokeWidth),void 0!==t.font&&i.font(t.font),void 0!==t.textColor&&i.textColor(t.textColor),void 0!==t.hidden&&i.setHidden(t.hidden),void 0!==t.culled&&i.setCulled(t.culled),i}throw new TypeError(""+t)},x([a.MemberAnimator(o.Length)],e.prototype,"radius",void 0),x([a.MemberAnimator(r.Color)],e.prototype,"fill",void 0),x([a.MemberAnimator(r.Color)],e.prototype,"stroke",void 0),x([a.MemberAnimator(o.Length)],e.prototype,"strokeWidth",void 0),e}(et);et.Bubble=ot;var rt=function(t){function e(){var e=t.call(this)||this;return e._data=new h.BTree,e._hitMode="domain",e._gradientStops=0,e}return b(e,t),Object.defineProperty(e.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),e.prototype.getDatum=function(t){return this._data.get(t)},e.prototype.insertDatum=function(t){return t=tt.fromAny(t),this.insertChildView(t,this._data.nextValue(t.x.state)||null),t},e.prototype.insertData=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,o=arguments.length;i<o;i+=1)this.insertDatum(arguments[i])},e.prototype.removeDatum=function(t){var e=this._data.get(t);return void 0!==e?(e.remove(),this._data.delete(t),e):null},e.prototype.layoutData=function(t,e,i){var o,r,n,l,s,u,h,d,c,p,v,m,y=this.origin.value,g=0;if(this._data.forEach((function(i,a){var b=a.y.value,x=t.scale(i),A=e.scale(b);a._xCoord=y.x+x,a._yCoord=y.y+A;var w=a.y2.value,_=null!=w?e.scale(w):null;if(null!==_?a._y2Coord=y.y+_:void 0!==a._y2Coord&&(a._y2Coord=void 0),a.isGradientStop()&&(g+=1),void 0!==r){var k=void 0;k=void 0!==o?f.Objects.compare(n,l)<0&&f.Objects.compare(l,b)>0?"maxima":f.Objects.compare(n,l)>0&&f.Objects.compare(l,b)<0?"minima":f.Objects.compare(n,l)<0&&f.Objects.compare(l,b)<0?"increasing":f.Objects.compare(n,l)>0&&f.Objects.compare(l,b)>0?"decreasing":"flat":f.Objects.compare(l,b)<0?"increasing":f.Objects.compare(l,b)>0?"decreasing":"flat",r.category(k),f.Objects.compare(b,c)<0?c=b:f.Objects.compare(b,p)>0&&(p=b),null!=w&&(f.Objects.compare(w,c)<0?c=w:f.Objects.compare(w,p)>0&&(p=w)),A<v?v=A:A>m&&(m=A)}else s=i,h=x,c=b,p=b,v=A,m=A;o=r,r=a,n=l,l=b,u=i,d=x}),this),void 0!==r){var b=void 0;b=void 0!==o?f.Objects.compare(n,l)<0?"increasing":f.Objects.compare(n,l)>0?"decreasing":"flat":"flat",r.category(b);var x=!1;this._xDomain[0]!==s&&(this._xDomain[0]=s,x=!0),this._xDomain[1]!==u&&(this._xDomain[1]=u,x=!0),this._xRange[0]!==h&&(this._xRange[0]=h,x=!0),this._xRange[1]!==d&&(this._xRange[1]=d,x=!0),this._yDomain[0]!==c&&(this._yDomain[0]=c,x=!0),this._yDomain[1]!==p&&(this._yDomain[1]=p,x=!0),this._yRange[0]!==v&&(this._yRange[0]=v,x=!0),this._yRange[1]!==m&&(this._yRange[1]=m,x=!0),x&&this.requireUpdate(a.View.NeedsLayout)}this._gradientStops=g},e.prototype.hitMode=function(t){return void 0===t?this._hitMode:(this._hitMode=t,this)},e.prototype.hitTest=function(e,i,o){var r=t.prototype.hitTest.call(this,e,i,o);if(null===r&&"none"!==this._hitMode){var n=o.renderer;if(n instanceof s.CanvasRenderer){var a=n.context;a.save(),e*=n.pixelRatio,i*=n.pixelRatio,r="domain"===this._hitMode?this.hitTestData(e,i,n):this.hitTestGraph(e,i,n),a.restore()}}return r},e.prototype.hitTestData=function(t,e,i){if(null!==this._xAxis){var o=this._xAxis.scale.state.unscale(t/i.pixelRatio-this.origin.value.x),r=this._data.previousValue(o),n=this._data.nextValue(o),a=void 0!==r?+o-+r.x.state:NaN,l=void 0!==n?+n.x.state-+o:NaN;if(a<=l)return r;if(a>l)return n;if(void 0!==r)return r;if(void 0!==n)return n}return null},e.prototype.onInsertChildView=function(e,i){t.prototype.onInsertChildView.call(this,e,i),e instanceof tt&&this._data.set(e.x.state,e)},e.prototype.onRemoveChildView=function(e){e instanceof tt&&this._data.delete(e.x.state),t.prototype.onRemoveChildView.call(this,e)},e.fromAny=function(t){return et.fromAny(t)},e}(et),nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),Object.defineProperty(e.prototype,"type",{get:function(){var t=this._view;return null!==t?t.type:void 0},enumerable:!1,configurable:!0}),e}(it),at=function(t){function e(){var e=t.call(this)||this;return e.stroke.setState(r.Color.black()),e.strokeWidth.setState(o.Length.px(1)),e._hitWidth=5,e}return b(e,t),Object.defineProperty(e.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return"line"},enumerable:!1,configurable:!0}),e.prototype.hitWidth=function(t){return void 0===t?this._hitWidth:(this._hitWidth=t,this)},e.prototype.renderPlot=function(t,e){var i,o,r,n,a=this._data,l=a.size,s=this.stroke.value,u=this.strokeWidth.value.pxValue(Math.min(e.width,e.height)),h=this._gradientStops;if(l>0){var d=a.firstValue(),c=a.lastValue();o=d.xCoord,r=c.xCoord,n=r-o,0!==h&&(i=t.createLinearGradient(o,0,r,0))}else o=NaN,r=NaN,n=NaN;t.beginPath();var p=0;a.forEach((function(e,r){var a=r.xCoord,l=r.yCoord;if(0===p?t.moveTo(a,l):t.lineTo(a,l),void 0!==i&&r.isGradientStop()){var u=r.color.value||s,h=r.opacity.value;"number"==typeof h&&(u=u.alpha(h));var d=(a-o)/(n||1);i.addColorStop(d,u.toString())}p+=1}),this),t.strokeStyle=void 0!==i?i:s.toString(),t.lineWidth=u,t.stroke()},e.prototype.hitTestGraph=function(t,e,i){var o=i.context,r=this._hitWidth,n=this.strokeWidth.value;if(void 0!==n){var a=this.viewFrame,l=Math.min(a.width,a.height);r=Math.max(r,n.pxValue(l))}o.beginPath();var s=0;if(this._data.forEach((function(t,e){var i=e.xCoord,r=e.yCoord;0===s?o.moveTo(i,r):o.lineTo(i,r),s+=1}),this),o.lineWidth=r,o.isPointInStroke(t,e)){if("graph"===this._hitMode)return this;if("data"===this._hitMode)return this.hitTestData(t,e,i)}return null},e.fromAny=function(t){if(t instanceof e)return t;if(t instanceof rt);else if("object"==typeof t&&null!==t){t=t;var i=new e;void 0!==t.xAxis&&i.xAxis(t.xAxis),void 0!==t.yAxis&&i.yAxis(t.yAxis);var o=t.data;if(void 0!==o)for(var r=0,n=o.length;r<n;r+=1)i.insertDatum(o[r]);return void 0!==t.stroke&&i.stroke(t.stroke),void 0!==t.strokeWidth&&i.strokeWidth(t.strokeWidth),void 0!==t.hitWidth&&i.hitWidth(t.hitWidth),void 0!==t.font&&i.font(t.font),void 0!==t.textColor&&i.textColor(t.textColor),void 0!==t.hidden&&i.setHidden(t.hidden),void 0!==t.culled&&i.setCulled(t.culled),i}throw new TypeError(""+t)},x([a.MemberAnimator(r.Color)],e.prototype,"stroke",void 0),x([a.MemberAnimator(o.Length)],e.prototype,"strokeWidth",void 0),e}(rt);et.Line=at;var lt=function(t){function e(){var e=t.call(this)||this;return e.fill.setState(r.Color.black()),e}return b(e,t),Object.defineProperty(e.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return"area"},enumerable:!1,configurable:!0}),e.prototype.renderPlot=function(t,e){var i,o,r,n,a=this._data,l=a.size,s=this.fill.value,u=this._gradientStops;if(t.beginPath(),l>0){var h=a.firstValue(),d=a.lastValue();if(o=h.xCoord,n=(r=d.xCoord)-o,t.moveTo(h.xCoord,h.yCoord),0!==u&&(i=t.createLinearGradient(o,0,r,0),h.isGradientStop())){var c=h.color.value||s;"number"==typeof(m=h.opacity.value)&&(c=c.alpha(m)),i.addColorStop(0,c.toString())}}else o=NaN,r=NaN,n=NaN;var p=a.values();for(p.next();p.hasNext();){var v=p.next().value;if(t.lineTo(v.xCoord,v.yCoord),void 0!==i&&v.isGradientStop()){var m;c=v.color.value||s;"number"==typeof(m=v.opacity.value)&&(c=c.alpha(m));var f=(v.xCoord-o)/(n||1);i.addColorStop(f,c.toString())}}for(;p.hasPrevious();){v=p.previous().value;t.lineTo(v.xCoord,v.y2Coord)}l>0&&t.closePath(),t.fillStyle=void 0!==i?i:s.toString(),t.fill()},e.prototype.hitTestGraph=function(t,e,i){var o=i.context,r=this._data,n=r.size;o.beginPath();var a=r.values();if(a.hasNext()){var l=a.next().value;o.moveTo(l.xCoord,l.yCoord)}for(;a.hasNext();){l=a.next().value;o.lineTo(l.xCoord,l.yCoord)}for(;a.hasPrevious();){l=a.previous().value;o.lineTo(l.xCoord,l.y2Coord)}if(n>0&&o.closePath(),o.isPointInPath(t,e)){if("graph"===this._hitMode)return this;if("data"===this._hitMode)return this.hitTestData(t,e,i)}return null},e.fromAny=function(t){if(t instanceof e)return t;if(t instanceof rt);else if("object"==typeof t&&null!==t){t=t;var i=new e;void 0!==t.xAxis&&i.xAxis(t.xAxis),void 0!==t.yAxis&&i.yAxis(t.yAxis);var o=t.data;if(void 0!==o)for(var r=0,n=o.length;r<n;r+=1)i.insertDatum(o[r]);return void 0!==t.fill&&i.fill(t.fill),void 0!==t.font&&i.font(t.font),void 0!==t.textColor&&i.textColor(t.textColor),void 0!==t.hidden&&i.setHidden(t.hidden),void 0!==t.culled&&i.setCulled(t.culled),i}throw new TypeError(""+t)},x([a.MemberAnimator(r.Color)],e.prototype,"fill",void 0),e}(rt);et.Area=lt;var st=function(t){function i(){var e=t.call(this)||this;return e.onScaleStart=e.onScaleStart.bind(e),e.onScaleChange=e.onScaleChange.bind(e),e.onScaleCancel=e.onScaleCancel.bind(e),e.onScaleEnd=e.onScaleEnd.bind(e),e._fitTopDomain=!0,e._fitRightDomain=!0,e._fitBottomDomain=!0,e._fitLeftDomain=!0,e._trackTopDomain=!0,e._trackRightDomain=!0,e._trackBottomDomain=!0,e._trackLeftDomain=!0,e._topDomainBounds=[!0,!0],e._rightDomainBounds=[!0,!0],e._bottomDomainBounds=[!0,!0],e._leftDomainBounds=[!0,!0],e._topDomainPadding=[null,null],e._rightDomainPadding=[null,null],e._bottomDomainPadding=[null,null],e._leftDomainPadding=[null,null],e._multitouch=null,e._topGesture=null,e._rightGesture=null,e._bottomGesture=null,e._leftGesture=null,e._rescaleTransition=null,e.setChildView("surface",new a.GraphicsView),e}return b(i,t),Object.defineProperty(i.prototype,"viewController",{get:function(){return this._viewController},enumerable:!1,configurable:!0}),i.prototype.surface=function(t){if(void 0===t){var e=this.getChildView("surface");return a.RenderedView.is(e)?e:null}return this.setChildView("surface",t),this},i.prototype.topAxis=function(t){if(void 0===t){var e=this.getChildView("topAxis");return e instanceof Y?e:null}return"string"==typeof t?t=Y.top(t):null!==t&&(t=Y.fromAny(t)),this.setChildView("topAxis",t),this},i.prototype.rightAxis=function(t){if(void 0===t){var e=this.getChildView("rightAxis");return e instanceof Y?e:null}return"string"==typeof t?t=Y.right(t):null!==t&&(t=Y.fromAny(t)),this.setChildView("rightAxis",t),this},i.prototype.bottomAxis=function(t){if(void 0===t){var e=this.getChildView("bottomAxis");return e instanceof Y?e:null}return"string"==typeof t?t=Y.bottom(t):null!==t&&(t=Y.fromAny(t)),this.setChildView("bottomAxis",t),this},i.prototype.leftAxis=function(t){if(void 0===t){var e=this.getChildView("leftAxis");return e instanceof Y?e:null}return"string"==typeof t?t=Y.left(t):null!==t&&(t=Y.fromAny(t)),this.setChildView("leftAxis",t),this},i.prototype.addPlot=function(t){t=et.fromAny(t),this.appendChildView(t)},i.prototype.multitouch=function(t){return void 0===t?this._multitouch:(!0===t?t=y.Multitouch.create():!1===t&&(t=null),null!==this._multitouch&&this._multitouch.surface(null),this._multitouch=t,null!==this._multitouch&&this._multitouch.surface(this.surface()),this)},i.prototype.topGesture=function(t){return void 0===t?this._topGesture:(!0===t?t=y.ScaleGesture.horizontal():!1===t&&(t=null),null!==this._topGesture&&this._topGesture.multitouch(null).ruler(null).scale(null),this._topGesture=t,null!==this._topGesture&&(null===this._multitouch&&this.multitouch(!0),this._topGesture.multitouch(this._multitouch).ruler(this.surface()).scale(this.topAxis().scale.value),null!==this._multitouch&&this.isMounted()&&this._topGesture.attach(this._multitouch),this.reboundTop()),this)},i.prototype.rightGesture=function(t){return void 0===t?this._rightGesture:(!0===t?t=y.ScaleGesture.vertical():!1===t&&(t=null),null!==this._rightGesture&&this._rightGesture.multitouch(null).ruler(null).scale(null),this._rightGesture=t,null!==this._rightGesture&&(null===this._multitouch&&this.multitouch(!0),this._rightGesture.multitouch(this._multitouch).ruler(this.surface()).scale(this.rightAxis().scale.value),null!==this._multitouch&&this.isMounted()&&this._rightGesture.attach(this._multitouch),this.reboundRight()),this)},i.prototype.bottomGesture=function(t){return void 0===t?this._bottomGesture:(!0===t?t=y.ScaleGesture.horizontal():!1===t&&(t=null),null!==this._bottomGesture&&this._bottomGesture.multitouch(null).ruler(null).scale(null),this._bottomGesture=t,null!==this._bottomGesture&&(null===this._multitouch&&this.multitouch(!0),this._bottomGesture.multitouch(this._multitouch).ruler(this.surface()).scale(this.bottomAxis().scale.value),null!==this._multitouch&&this.isMounted()&&this._bottomGesture.attach(this._multitouch),this.reboundBottom()),this)},i.prototype.leftGesture=function(t){return void 0===t?this._leftGesture:(!0===t?t=y.ScaleGesture.vertical():!1===t&&(t=null),null!==this._leftGesture&&this._leftGesture.multitouch(null).ruler(null).scale(null),this._leftGesture=t,null!==this._leftGesture&&(null===this._multitouch&&this.multitouch(!0),this._leftGesture.multitouch(this._multitouch).ruler(this.surface()).scale(this.leftAxis().scale.value),null!==this._multitouch&&this.isMounted()&&this._leftGesture.attach(this._multitouch),this.reboundLeft()),this)},i.prototype.rescaleTransition=function(t){return void 0===t?this._rescaleTransition:(null!==t&&(t=v.Transition.fromAny(t)),this._rescaleTransition=t,this)},i.prototype.fitTopDomain=function(t){return void 0===t?this._fitTopDomain:(!this._fitTopDomain&&t&&this.requireUpdate(a.View.NeedsLayout),this._fitTopDomain=t,this)},i.prototype.fitRightDomain=function(t){return void 0===t?this._fitRightDomain:(!this._fitRightDomain&&t&&this.requireUpdate(a.View.NeedsLayout),this._fitRightDomain=t,this)},i.prototype.fitBottomDomain=function(t){return void 0===t?this._fitBottomDomain:(!this._fitBottomDomain&&t&&this.requireUpdate(a.View.NeedsLayout),this._fitBottomDomain=t,this)},i.prototype.fitLeftDomain=function(t){return void 0===t?this._fitLeftDomain:(!this._fitLeftDomain&&t&&this.requireUpdate(a.View.NeedsLayout),this._fitLeftDomain=t,this)},i.prototype.topDomainBounds=function(t){return void 0===t?this._topDomainBounds:(this._topDomainBounds[0]=t[0],this._topDomainBounds[1]=t[1],this.reboundTop(),this)},i.prototype.rightDomainBounds=function(t){return void 0===t?this._rightDomainBounds:(this._rightDomainBounds[0]=t[0],this._rightDomainBounds[1]=t[1],this.reboundRight(),this)},i.prototype.bottomDomainBounds=function(t){return void 0===t?this._bottomDomainBounds:(this._bottomDomainBounds[0]=t[0],this._bottomDomainBounds[1]=t[1],this.reboundBottom(),this)},i.prototype.leftDomainBounds=function(t){return void 0===t?this._leftDomainBounds:(this._leftDomainBounds[0]=t[0],this._leftDomainBounds[1]=t[1],this.reboundLeft(),this)},i.prototype.topDomainPadding=function(t){return void 0===t?this._topDomainPadding:(this._topDomainPadding[0]=t[0],this._topDomainPadding[1]=t[1],this.requireUpdate(a.View.NeedsLayout),this)},i.prototype.rightDomainPadding=function(t){return void 0===t?this._rightDomainPadding:(this._rightDomainPadding[0]=t[0],this._rightDomainPadding[1]=t[1],this.requireUpdate(a.View.NeedsLayout),this)},i.prototype.bottomDomainPadding=function(t){return void 0===t?this._bottomDomainPadding:(this._bottomDomainPadding[0]=t[0],this._bottomDomainPadding[1]=t[1],this.requireUpdate(a.View.NeedsLayout),this)},i.prototype.leftDomainPadding=function(t){return void 0===t?this._leftDomainPadding:(this._leftDomainPadding[0]=t[0],this._leftDomainPadding[1]=t[1],this.requireUpdate(a.View.NeedsLayout),this)},i.prototype.topDomain=function(){for(var t=[null,null],e=this.topAxis(),i=this._childViews,o=0,r=i.length;o<r;o+=1){var n=i[o];if(n instanceof et&&n.xAxis()===e){var a=n.xDomain();(null===t[0]||null!==a[0]&&f.Objects.compare(t[0],a[0])>0)&&(t[0]=a[0]),(null===t[1]||null!==a[1]&&f.Objects.compare(t[1],a[1])<0)&&(t[1]=a[1])}}return t},i.prototype.rightDomain=function(){for(var t=[null,null],e=this.rightAxis(),i=this._childViews,o=0,r=i.length;o<r;o+=1){var n=i[o];if(n instanceof et&&n.yAxis()===e){var a=n.yDomain();(null===t[0]||null!==a[0]&&f.Objects.compare(t[0],a[0])>0)&&(t[0]=a[0]),(null===t[1]||null!==a[1]&&f.Objects.compare(t[1],a[1])<0)&&(t[1]=a[1])}}return t},i.prototype.bottomDomain=function(){for(var t=[null,null],e=this.bottomAxis(),i=this._childViews,o=0,r=i.length;o<r;o+=1){var n=i[o];if(n instanceof et&&n.xAxis()===e){var a=n.xDomain();(null===t[0]||null!==a[0]&&f.Objects.compare(t[0],a[0])>0)&&(t[0]=a[0]),(null===t[1]||null!==a[1]&&f.Objects.compare(t[1],a[1])<0)&&(t[1]=a[1])}}return t},i.prototype.leftDomain=function(){for(var t=[null,null],e=this.leftAxis(),i=this._childViews,o=0,r=i.length;o<r;o+=1){var n=i[o];if(n instanceof et&&n.yAxis()===e){var a=n.yDomain();(null===t[0]||null!==a[0]&&f.Objects.compare(t[0],a[0])>0)&&(t[0]=a[0]),(null===t[1]||null!==a[1]&&f.Objects.compare(t[1],a[1])<0)&&(t[1]=a[1])}}return t},i.prototype.topDomainPadded=function(){var t=this.topDomain(),e=t[0],i=t[1],o=this._topDomainPadding,r=o[0],n=o[1];return null!==e&&null!==r&&(e=+e-+r),null!==i&&null!==n&&(i=+i+ +n),[e,i]},i.prototype.rightDomainPadded=function(){var t=this.rightDomain(),e=t[0],i=t[1],o=this._topDomainPadding,r=o[0],n=o[1];return null!==e&&null!==r&&(e=+e-+r),null!==i&&null!==n&&(i=+i+ +n),[e,i]},i.prototype.bottomDomainPadded=function(){var t=this.bottomDomain(),e=t[0],i=t[1],o=this._bottomDomainPadding,r=o[0],n=o[1];return null!==e&&null!==r&&(e=+e-+r),null!==i&&null!==n&&(i=+i+ +n),[e,i]},i.prototype.leftDomainPadded=function(){var t=this.leftDomain(),e=t[0],i=t[1],o=this._leftDomainPadding,r=o[0],n=o[1];return null!==e&&null!==r&&(e=+e-+r),null!==i&&null!==n&&(i=+i+ +n),[e,i]},i.prototype.topRange=function(){for(var t=[1/0,-1/0],e=this.topAxis(),i=this._childViews,o=0,r=i.length;o<r;o+=1){var n=i[o];if(n instanceof et&&n.xAxis()===e){var a=n.xRange();t[0]=Math.min(t[0],a[0]),t[1]=Math.max(t[1],a[1])}}return t},i.prototype.rightRange=function(){for(var t=[1/0,-1/0],e=this.rightAxis(),i=this._childViews,o=0,r=i.length;o<r;o+=1){var n=i[o];if(n instanceof et&&n.yAxis()===e){var a=n.yRange();t[0]=Math.min(t[0],a[0]),t[1]=Math.max(t[1],a[1])}}return t},i.prototype.bottomRange=function(){for(var t=[1/0,-1/0],e=this.bottomAxis(),i=this._childViews,o=0,r=i.length;o<r;o+=1){var n=i[o];if(n instanceof et&&n.xAxis()===e){var a=n.xRange();t[0]=Math.min(t[0],a[0]),t[1]=Math.max(t[1],a[1])}}return t},i.prototype.leftRange=function(){for(var t=[1/0,-1/0],e=this.leftAxis(),i=this._childViews,o=0,r=i.length;o<r;o+=1){var n=i[o];if(n instanceof et&&n.yAxis()===e){var a=n.yRange();t[0]=Math.min(t[0],a[0]),t[1]=Math.max(t[1],a[1])}}return t},i.prototype.onMount=function(){t.prototype.onMount.call(this),null!==this._multitouch&&(this._multitouch.attach(this),null!==this._topGesture&&this._topGesture.attach(this._multitouch),null!==this._rightGesture&&this._rightGesture.attach(this._multitouch),null!==this._bottomGesture&&this._bottomGesture.attach(this._multitouch),null!==this._leftGesture&&this._leftGesture.attach(this._multitouch)),this.on("scalestart",this.onScaleStart),this.on("scalechange",this.onScaleChange),this.on("scalecancel",this.onScaleCancel),this.on("scaleend",this.onScaleEnd)},i.prototype.onUnmount=function(){this.off("scalestart",this.onScaleStart),this.off("scalechange",this.onScaleChange),this.off("scalecancel",this.onScaleCancel),this.off("scaleend",this.onScaleEnd),null!==this._multitouch&&(null!==this._topGesture&&this._topGesture.detach(this._multitouch),null!==this._rightGesture&&this._rightGesture.detach(this._multitouch),null!==this._bottomGesture&&this._bottomGesture.detach(this._multitouch),null!==this._leftGesture&&this._leftGesture.detach(this._multitouch),this._multitouch.detach(this)),t.prototype.onUnmount.call(this)},i.prototype.modifyUpdate=function(e){var i=0;return 0!=(e&a.View.NeedsAnimate)&&(i|=a.View.NeedsLayout),i|=t.prototype.modifyUpdate.call(this,e|i)},i.prototype.onLayout=function(e){t.prototype.onLayout.call(this,e),null!==this._topGesture&&this._topGesture.scale(this.topAxis().scale.value),null!==this._rightGesture&&this._rightGesture.scale(this.rightAxis().scale.value),null!==this._bottomGesture&&this._bottomGesture.scale(this.bottomAxis().scale.value),null!==this._leftGesture&&this._leftGesture.scale(this.leftAxis().scale.value),this.layoutChildViews(this.viewFrame)},i.prototype.didLayout=function(e){t.prototype.didLayout.call(this,e),this.autoscale(),this.rebound()},i.prototype.layoutChildViews=function(t){for(var e=this._childViews,i=0;i<e.length;i+=1){var o=e[i];this.layoutChildView(o,t)}},i.prototype.layoutChildView=function(t,e){var i=t.key;"surface"===i&&a.RenderedView.is(t)?this.layoutSurface(t,e):t instanceof Y?"topAxis"===i?this.layoutTopAxis(t,e):"rightAxis"===i?this.layoutRightAxis(t,e):"bottomAxis"===i?this.layoutBottomAxis(t,e):"leftAxis"===i&&this.layoutLeftAxis(t,e):t instanceof et&&this.layoutPlot(t,e)},i.prototype.layoutSurface=function(t,i){var o=this.topGutter.value.pxValue(i.height),r=this.rightGutter.value.pxValue(i.width),n=this.bottomGutter.value.pxValue(i.height),a=this.leftGutter.value.pxValue(i.width),l=i.xMin+a,s=i.yMin+o,u=i.xMax-r,h=i.yMax-n;t.setViewFrame(new e.BoxR2(l,s,u,h))},i.prototype.layoutTopAxis=function(t,i){var o=this.topGutter.value.pxValue(i.height),r=this.rightGutter.value.pxValue(i.width),n=this.bottomGutter.value.pxValue(i.height),a=this.leftGutter.value.pxValue(i.width),l=i.xMin+a,s=i.yMin+o,u=l,h=i.yMin,d=i.xMax-r,c=i.yMax-n;t.range(0,d-u),t.setViewFrame(new e.BoxR2(u,h,d,c)),t.origin.setAutoState(new e.PointR2(l,s))},i.prototype.layoutRightAxis=function(t,i){var o=this.topGutter.value.pxValue(i.height),r=this.rightGutter.value.pxValue(i.width),n=this.bottomGutter.value.pxValue(i.height),a=this.leftGutter.value.pxValue(i.width),l=Math.max(i.xMin+a,i.xMax-r),s=i.yMin+o,u=i.xMin+a,h=s,d=i.xMax,c=i.yMax-n;t.range(c-h,0),t.setViewFrame(new e.BoxR2(u,h,d,c)),t.origin.setAutoState(new e.PointR2(l,s))},i.prototype.layoutBottomAxis=function(t,i){var o=this.topGutter.value.pxValue(i.height),r=this.rightGutter.value.pxValue(i.width),n=this.bottomGutter.value.pxValue(i.height),a=this.leftGutter.value.pxValue(i.width),l=i.xMin+a,s=Math.max(i.yMin+o,i.yMax-n),u=l,h=i.yMin+o,d=i.xMax-r,c=i.yMax;t.range(0,d-u),t.setViewFrame(new e.BoxR2(u,h,d,c)),t.origin.setAutoState(new e.PointR2(l,s))},i.prototype.layoutLeftAxis=function(t,i){var o=this.topGutter.value.pxValue(i.height),r=this.rightGutter.value.pxValue(i.width),n=this.bottomGutter.value.pxValue(i.height),a=this.leftGutter.value.pxValue(i.width),l=i.xMin+a,s=i.yMin+o,u=i.xMin,h=s,d=i.xMax-r,c=i.yMax-n;t.range(c-h,0),t.setViewFrame(new e.BoxR2(u,h,d,c)),t.origin.setAutoState(new e.PointR2(l,s))},i.prototype.layoutPlot=function(t,i){var o=this.topGutter.value.pxValue(i.height),r=this.rightGutter.value.pxValue(i.width),n=this.bottomGutter.value.pxValue(i.height),a=this.leftGutter.value.pxValue(i.width),l=i.xMin+a,s=i.yMin+o,u=i.xMax-r,h=i.yMax-n;t.setViewFrame(new e.BoxR2(l,s,u,h)),t.origin.setAutoState(new e.PointR2(l,s))},i.prototype.onInsertChildView=function(e,i){t.prototype.onInsertChildView.call(this,e,i),e instanceof et&&this.onInsertPlot(e)},i.prototype.onRemoveChildView=function(e){e instanceof et&&this.onRemovePlot(e),t.prototype.onRemoveChildView.call(this,e)},i.prototype.onInsertPlot=function(t){if(null===t.xAxis()||null===t.yAxis())for(var e=this._childViews,i=0,o=e.length;i<o;i+=1){var r=e[i];if(r instanceof Y){var n=r.key;"topAxis"===n&&null===t.xAxis()?t.xAxis(r):"rightAxis"===n&&null===t.yAxis()?t.yAxis(r):"bottomAxis"===n&&null===t.xAxis()?t.xAxis(r):"leftAxis"===n&&null===t.yAxis()&&t.yAxis(r)}}},i.prototype.onRemovePlot=function(t){},i.prototype.autoscale=function(t){void 0===t&&(t=this._rescaleTransition||void 0),this.autoscaleTop(t),this.autoscaleRight(t),this.autoscaleBottom(t),this.autoscaleLeft(t)},i.prototype.autoscaleTop=function(t){if(this._fitTopDomain&&this._trackTopDomain){var e=this.topAxis();if(null!==e){void 0===t&&(t=this._rescaleTransition||void 0);var i=this.topDomainPadded(),o=i[0],r=i[1];null!==o&&null!==r&&e.domain(o,r,t)}}},i.prototype.autoscaleRight=function(t){if(this._fitRightDomain&&this._trackRightDomain){var e=this.rightAxis();if(null!==e){void 0===t&&(t=this._rescaleTransition||void 0);var i=this.rightDomainPadded(),o=i[0],r=i[1];null!==o&&null!==r&&e.domain(o,r,t)}}},i.prototype.autoscaleBottom=function(t){if(this._fitBottomDomain&&this._trackBottomDomain){var e=this.bottomAxis();if(null!==e){void 0===t&&(t=this._rescaleTransition||void 0);var i=this.bottomDomainPadded(),o=i[0],r=i[1];null!==o&&null!==r&&e.domain(o,r,t)}}},i.prototype.autoscaleLeft=function(t){if(this._fitLeftDomain&&this._trackLeftDomain){var e=this.leftAxis();if(null!==e){void 0===t&&(t=this._rescaleTransition||void 0);var i=this.leftDomainPadded(),o=i[0],r=i[1];null!==o&&null!==r&&e.domain(o,r,t)}}},i.prototype.rebound=function(){this.reboundTop(),this.reboundRight(),this.reboundBottom(),this.reboundLeft()},i.prototype.reboundTop=function(){var t=this._topGesture;if(null!==t){var e=this.topDomainPadded(),i=e[0],o=e[1];if(null!==i&&null!==o){var r=this._topDomainBounds,n=r[0],a=r[1];"boolean"!=typeof n&&(i=+i-+n),"boolean"!=typeof a&&(o=+o+ +a),t.domainBounds("boolean"!=typeof n||n?i:null,"boolean"!=typeof a||a?o:null)}}},i.prototype.reboundRight=function(){var t=this._rightGesture;if(null!==t){var e=this.rightDomainPadded(),i=e[0],o=e[1];if(null!==i&&null!==o){var r=this._rightDomainBounds,n=r[0],a=r[1];"boolean"!=typeof n&&(i=+i-+n),"boolean"!=typeof a&&(o=+o+ +a),t.domainBounds("boolean"!=typeof n||n?i:null,"boolean"!=typeof a||a?o:null)}}},i.prototype.reboundBottom=function(){var t=this._bottomGesture;if(null!==t){var e=this.bottomDomainPadded(),i=e[0],o=e[1];if(null!==i&&null!==o){var r=this._bottomDomainBounds,n=r[0],a=r[1];"boolean"!=typeof n&&(i=+i-+n),"boolean"!=typeof a&&(o=+o+ +a),t.domainBounds("boolean"!=typeof n||n?i:null,"boolean"!=typeof a||a?o:null)}}},i.prototype.reboundLeft=function(){var t=this._leftGesture;if(null!==t){var e=this.leftDomainPadded(),i=e[0],o=e[1];if(null!==i&&null!==o){var r=this._leftDomainBounds,n=r[0],a=r[1];"boolean"!=typeof n&&(i=+i-+n),"boolean"!=typeof a&&(o=+o+ +a),t.domainBounds("boolean"!=typeof n||n?i:null,"boolean"!=typeof a||a?o:null)}}},i.prototype.retrackTop=function(){var t=this._topGesture;if(null!==t){var e=t.scale().domain(),i=e[0],o=e[1],r=t.domainMin(),n=t.domainMax();if(null!==i&&null!==o&&null!==r&&null!==n){var a=f.Objects.compare(i,o);(a<0&&f.Objects.compare(i,r)<=0&&f.Objects.compare(o,n)>=0||a>0&&f.Objects.compare(o,r)<=0&&f.Objects.compare(i,n)>=0)&&(this._trackTopDomain=!0)}}},i.prototype.retrackRight=function(){var t=this._rightGesture;if(null!==t){var e=t.scale().domain(),i=e[0],o=e[1],r=t.domainMin(),n=t.domainMax();if(null!==i&&null!==o&&null!==r&&null!==n){var a=f.Objects.compare(i,o);(a<0&&f.Objects.compare(i,r)<=0&&f.Objects.compare(o,n)>=0||a>0&&f.Objects.compare(o,r)<=0&&f.Objects.compare(i,n)>=0)&&(this._trackRightDomain=!0)}}},i.prototype.retrackBottom=function(){var t=this._bottomGesture;if(null!==t){var e=t.scale().domain(),i=e[0],o=e[1],r=t.domainMin(),n=t.domainMax();if(null!==i&&null!==o&&null!==r&&null!==n){var a=f.Objects.compare(i,o);(a<0&&f.Objects.compare(i,r)<=0&&f.Objects.compare(o,n)>=0||a>0&&f.Objects.compare(o,r)<=0&&f.Objects.compare(i,n)>=0)&&(this._trackBottomDomain=!0)}}},i.prototype.retrackLeft=function(){var t=this._leftGesture;if(null!==t){var e=t.scale().domain(),i=e[0],o=e[1],r=t.domainMin(),n=t.domainMax();if(null!==i&&null!==o&&null!==r&&null!==n){var a=f.Objects.compare(i,o);(a<0&&f.Objects.compare(i,r)<=0&&f.Objects.compare(o,n)>=0||a>0&&f.Objects.compare(o,r)<=0&&f.Objects.compare(i,n)>=0)&&(this._trackLeftDomain=!0)}}},i.prototype.onScaleStart=function(t){if(t.gesture===this._topGesture){var e=this.topAxis();null!==e&&(e.domain(t.scale.domain()),this.requireUpdate(a.View.NeedsLayout)),this._trackTopDomain=!1}else if(t.gesture===this._rightGesture){var i=this.rightAxis();null!==i&&(i.domain(t.scale.domain()),this.requireUpdate(a.View.NeedsLayout)),this._trackRightDomain=!1}else if(t.gesture===this._bottomGesture){var o=this.bottomAxis();null!==o&&(o.domain(t.scale.domain()),this.requireUpdate(a.View.NeedsLayout)),this._trackBottomDomain=!1}else if(t.gesture===this._leftGesture){var r=this.leftAxis();null!==r&&(r.domain(t.scale.domain()),this.requireUpdate(a.View.NeedsLayout)),this._trackLeftDomain=!1}},i.prototype.onScaleChange=function(t){if(t.gesture===this._topGesture){var e=this.topAxis();null!==e&&(e.domain(t.scale.domain()),this.requireUpdate(a.View.NeedsLayout))}else if(t.gesture===this._rightGesture){var i=this.rightAxis();null!==i&&(i.domain(t.scale.domain()),this.requireUpdate(a.View.NeedsLayout))}else if(t.gesture===this._bottomGesture){var o=this.bottomAxis();null!==o&&(o.domain(t.scale.domain()),this.requireUpdate(a.View.NeedsLayout))}else if(t.gesture===this._leftGesture){var r=this.leftAxis();null!==r&&(r.domain(t.scale.domain()),this.requireUpdate(a.View.NeedsLayout))}},i.prototype.onScaleCancel=function(t){this.onScaleEnd(t)},i.prototype.onScaleEnd=function(t){if(t.gesture===this._topGesture){var e=this.topAxis();null!==e&&(e.domain(t.scale.domain()),this.requireUpdate(a.View.NeedsLayout)),this.retrackTop()}else if(t.gesture===this._rightGesture){var i=this.rightAxis();null!==i&&(i.domain(t.scale.domain()),this.requireUpdate(a.View.NeedsLayout)),this.retrackRight()}else if(t.gesture===this._bottomGesture){var o=this.bottomAxis();null!==o&&(o.domain(t.scale.domain()),this.requireUpdate(a.View.NeedsLayout)),this.retrackBottom()}else if(t.gesture===this._leftGesture){var r=this.leftAxis();null!==r&&(r.domain(t.scale.domain()),this.requireUpdate(a.View.NeedsLayout)),this.retrackLeft()}},i.fromAny=function(t){if(t instanceof i)return t;if("object"==typeof t&&null!==t){var e=new i;void 0!==t.bottomAxis&&e.bottomAxis(t.bottomAxis),void 0!==t.leftAxis&&e.leftAxis(t.leftAxis),void 0!==t.topAxis&&e.topAxis(t.topAxis),void 0!==t.rightAxis&&e.rightAxis(t.rightAxis);var o=t.plots;if(void 0!==o)for(var r=0,n=o.length;r<n;r+=1)e.addPlot(o[r]);return void 0!==t.fitTopDomain&&e.fitTopDomain(t.fitTopDomain),void 0!==t.fitRightDomain&&e.fitRightDomain(t.fitRightDomain),void 0!==t.fitBottomDomain&&e.fitBottomDomain(t.fitBottomDomain),void 0!==t.fitLeftDomain&&e.fitLeftDomain(t.fitLeftDomain),void 0!==t.topDomainBounds&&e.topDomainBounds(t.topDomainBounds),void 0!==t.rightDomainBounds&&e.rightDomainBounds(t.rightDomainBounds),void 0!==t.bottomDomainBounds&&e.bottomDomainBounds(t.bottomDomainBounds),void 0!==t.leftDomainBounds&&e.leftDomainBounds(t.leftDomainBounds),void 0!==t.topDomainPadding&&e.topDomainPadding(t.topDomainPadding),void 0!==t.rightDomainPadding&&e.rightDomainPadding(t.rightDomainPadding),void 0!==t.bottomDomainPadding&&e.bottomDomainPadding(t.bottomDomainPadding),void 0!==t.leftDomainPadding&&e.leftDomainPadding(t.leftDomainPadding),void 0!==t.multitouch&&e.multitouch(t.multitouch),void 0!==t.topGesture&&e.topGesture(t.topGesture),void 0!==t.rightGesture&&e.rightGesture(t.rightGesture),void 0!==t.bottomGesture&&e.bottomGesture(t.bottomGesture),void 0!==t.leftGesture&&e.leftGesture(t.leftGesture),void 0!==t.rescaleTransition&&e.rescaleTransition(t.rescaleTransition),void 0!==t.topGutter&&e.topGutter(t.topGutter),void 0!==t.rightGutter&&e.rightGutter(t.rightGutter),void 0!==t.bottomGutter&&e.bottomGutter(t.bottomGutter),void 0!==t.leftGutter&&e.leftGutter(t.leftGutter),void 0!==t.domainColor&&e.domainColor(t.domainColor),void 0!==t.domainWidth&&e.domainWidth(t.domainWidth),void 0!==t.domainSerif&&e.domainSerif(t.domainSerif),void 0!==t.tickMarkColor&&e.tickMarkColor(t.tickMarkColor),void 0!==t.tickMarkWidth&&e.tickMarkWidth(t.tickMarkWidth),void 0!==t.tickMarkLength&&e.tickMarkLength(t.tickMarkLength),void 0!==t.tickLabelPadding&&e.tickLabelPadding(t.tickLabelPadding),void 0!==t.gridLineColor&&e.gridLineColor(t.gridLineColor),void 0!==t.gridLineWidth&&e.gridLineWidth(t.gridLineWidth),void 0!==t.font&&e.font(t.font),void 0!==t.textColor&&e.textColor(t.textColor),void 0!==t.hidden&&e.setHidden(t.hidden),void 0!==t.culled&&e.setCulled(t.culled),e}throw new TypeError(""+t)},x([a.MemberAnimator(o.Length,{value:o.Length.px(20)})],i.prototype,"topGutter",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.px(40)})],i.prototype,"rightGutter",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.px(20)})],i.prototype,"bottomGutter",void 0),x([a.MemberAnimator(o.Length,{value:o.Length.px(40)})],i.prototype,"leftGutter",void 0),x([a.MemberAnimator(r.Color,{value:r.Color.black()})],i.prototype,"domainColor",void 0),x([a.MemberAnimator(Number,{value:1})],i.prototype,"domainWidth",void 0),x([a.MemberAnimator(Number,{value:6})],i.prototype,"domainSerif",void 0),x([a.MemberAnimator(r.Color,{value:r.Color.black()})],i.prototype,"tickMarkColor",void 0),x([a.MemberAnimator(Number,{value:1})],i.prototype,"tickMarkWidth",void 0),x([a.MemberAnimator(Number,{value:6})],i.prototype,"tickMarkLength",void 0),x([a.MemberAnimator(Number,{value:2})],i.prototype,"tickLabelPadding",void 0),x([a.MemberAnimator(r.Color,{value:r.Color.transparent()})],i.prototype,"gridLineColor",void 0),x([a.MemberAnimator(Number,{value:0})],i.prototype,"gridLineWidth",void 0),x([a.MemberAnimator(n.Font,{inherit:!0})],i.prototype,"font",void 0),x([a.MemberAnimator(r.Color,{inherit:!0})],i.prototype,"textColor",void 0),i}(a.GraphicsView),ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),e.prototype.topAxis=function(){var t=this._view;return null!==t?t.topAxis():null},e.prototype.rightAxis=function(){var t=this._view;return null!==t?t.rightAxis():null},e.prototype.bottomAxis=function(){var t=this._view;return null!==t?t.bottomAxis():null},e.prototype.leftAxis=function(){var t=this._view;return null!==t?t.leftAxis():null},e}(a.GraphicsViewController);t.AreaGraphView=lt,t.AxisView=Y,t.AxisViewController=J,t.BottomAxisView=Z,t.BottomTickView=L,t.BubblePlotView=ot,t.ChartView=st,t.ChartViewController=ut,t.DatumView=tt,t.DialView=w,t.GaugeView=_,t.GraphView=rt,t.GraphViewController=nt,t.LeftAxisView=$,t.LeftTickView=V,t.LineGraphView=at,t.NumberTickGenerator=z,t.PieView=M,t.PlotView=et,t.PlotViewController=it,t.RightAxisView=X,t.RightTickView=T,t.SliceView=k,t.TickGenerator=H,t.TickView=C,t.TimeTickGenerator=K,t.TopAxisView=Q,t.TopTickView=R,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=swim-vis.min.js.map